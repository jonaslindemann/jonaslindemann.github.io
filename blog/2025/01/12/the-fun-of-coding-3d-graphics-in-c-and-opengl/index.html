<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../../../../2024/09/09/calfem-for-python-3610-released/ rel=prev><link href=../../25/coding-at-the-speed-of-light/ rel=next><link rel=icon href=../../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.29"><title>The fun of coding 3D graphics in C++ and OpenGL - Coding thoughts</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.76a95c52.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans+Display:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Noto Sans Display";--md-code-font:"Ubuntu Mono"}</style><link rel=stylesheet href=../../../../../stylesheets/extra.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="The fun of coding 3D graphics in C++ and OpenGL - Coding thoughts"><meta property=og:description content=None><meta property=og:image content=./assets/images/social/blog/posts/3d_graphics_and_cpp.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta property=og:url content=None><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="The fun of coding 3D graphics in C++ and OpenGL - Coding thoughts"><meta name=twitter:description content=None><meta name=twitter:image content=./assets/images/social/blog/posts/3d_graphics_and_cpp.png></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=yellow data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#the-fun-of-coding-3d-graphics-in-c-and-opengl class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="Coding thoughts" class="md-header__button md-logo" aria-label="Coding thoughts" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 488c0 9.5-5.6 18.1-14.2 21.9s-18.8 2.3-25.8-4.1l-80-72c-5.1-4.6-7.9-11-7.9-17.8s2.9-13.3 7.9-17.8l80-72c7-6.3 17.2-7.9 25.8-4.1S320 334.5 320 344v40h16c35.3 0 64-28.7 64-64V153.3c-28.3-12.3-48-40.5-48-73.3 0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V320c0 70.7-57.3 128-128 128h-16v40zM456 80a24 24 0 1 0-48 0 24 24 0 1 0 48 0zM192 24c0-9.5 5.6-18.1 14.2-21.9S225-.2 232 6.2l80 72c5.1 4.6 7.9 11 7.9 17.8s-2.9 13.3-7.9 17.8l-80 72c-7 6.3-17.2 7.9-25.8 4.1S192 177.5 192 168v-40h-16c-35.3 0-64 28.7-64 64v166.7c28.3 12.3 48 40.5 48 73.3 0 44.2-35.8 80-80 80S0 476.2 0 432c0-32.8 19.7-61 48-73.3V192c0-70.7 57.3-128 128-128h16V24zM56 432a24 24 0 1 0 48 0 24 24 0 1 0-48 0z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Coding thoughts </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> The fun of coding 3D graphics in C++ and OpenGL </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../../../../gen-links/ class=md-tabs__link> Links </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="Coding thoughts" class="md-nav__button md-logo" aria-label="Coding thoughts" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 488c0 9.5-5.6 18.1-14.2 21.9s-18.8 2.3-25.8-4.1l-80-72c-5.1-4.6-7.9-11-7.9-17.8s2.9-13.3 7.9-17.8l80-72c7-6.3 17.2-7.9 25.8-4.1S320 334.5 320 344v40h16c35.3 0 64-28.7 64-64V153.3c-28.3-12.3-48-40.5-48-73.3 0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V320c0 70.7-57.3 128-128 128h-16v40zM456 80a24 24 0 1 0-48 0 24 24 0 1 0 48 0zM192 24c0-9.5 5.6-18.1 14.2-21.9S225-.2 232 6.2l80 72c5.1 4.6 7.9 11 7.9 17.8s-2.9 13.3-7.9 17.8l-80 72c-7 6.3-17.2 7.9-25.8 4.1S192 177.5 192 168v-40h-16c-35.3 0-64 28.7-64 64v166.7c28.3 12.3 48 40.5 48 73.3 0 44.2-35.8 80-80 80S0 476.2 0 432c0-32.8 19.7-61 48-73.3V192c0-70.7 57.3-128 128-128h16V24zM56 432a24 24 0 1 0 48 0 24 24 0 1 0-48 0z"/></svg> </a> Coding thoughts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <a href=../../../../ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Links </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Links </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../gen-links/ class=md-nav__link> <span class=md-ellipsis> General </span> </a> </li> <li class=md-nav__item> <a href=../../../../../yt-links/ class=md-nav__link> <span class=md-ellipsis> Videos </span> </a> </li> <li class=md-nav__item> <a href=../../../../../gh-links/ class=md-nav__link> <span class=md-ellipsis> Projects </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#design-goals class=md-nav__link> <span class=md-ellipsis> Design goals </span> </a> </li> <li class=md-nav__item> <a href=#the-journey-starts class=md-nav__link> <span class=md-ellipsis> The journey starts </span> </a> </li> <li class=md-nav__item> <a href=#not-calling-new-and-delete class=md-nav__link> <span class=md-ellipsis> Not calling new and delete... </span> </a> </li> <li class=md-nav__item> <a href=#the-scene-graph class=md-nav__link> <span class=md-ellipsis> The Scene Graph </span> </a> </li> <li class=md-nav__item> <a href=#meshnode-and-primitives class=md-nav__link> <span class=md-ellipsis> MeshNode and primitives </span> </a> </li> <li class=md-nav__item> <a href=#lights-materials-and-textures class=md-nav__link> <span class=md-ellipsis> Lights, materials and textures </span> </a> </li> <li class=md-nav__item> <a href=#windows-and-gui class=md-nav__link> <span class=md-ellipsis> Windows and GUI </span> </a> </li> <li class=md-nav__item> <a href=#how-can-you-try-ivf2 class=md-nav__link> <span class=md-ellipsis> How can you try ivf2? </span> </a> </li> <li class=md-nav__item> <a href=#getting-involved class=md-nav__link> <span class=md-ellipsis> Getting involved </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../../../../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> Metadata </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <time datetime="2025-01-12 00:00:00" class=md-ellipsis>January 12, 2025</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg> <span class=md-ellipsis> in <a href=../../../../category/opengl/ >OpenGL</a>, <a href=../../../../category/c/ >C++</a>, <a href=../../../../category/ivf/ >Ivf++</a>, <a href=../../../../category/graphics/ >Graphics</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg> <span class=md-ellipsis> 10 min read </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <h1 id=the-fun-of-coding-3d-graphics-in-c-and-opengl>The fun of coding 3D graphics in C++ and OpenGL</h1> <p><img alt src=../../../../images/3d_for_fun.png></p> <p>There exist several 3D graphics libraries for C++ using OpenGL such as <a href=https://www.raylib.com/ >Raylib</a>, <a href=https://www.openscenegraph.org/ >OpenSceneGraph</a>, <a href=https://vtk.org/ >VTK</a>, <a href=https://magnum.graphics/ >Magnum</a>, <a href=https://libcinder.org/ >Cinder</a>, <a href=https://openframeworks.cc/ >OpenFrameworks</a> and many more.</p> <p>There also game engines using C++ such as <a href=https://www.unrealengine.com/ >Unreal Engine</a>, <a href=https://godotengine.org/ >Godot</a>, <a href=https://www.cryengine.com/ >CryEngine</a>, <a href=https://aws.amazon.com/lumberyard/ >Lumberyard</a> and more.</p> <p>However, my needs for 3d programming have not been for games but for interactive 3d applications mainly in the field of engineering. I have used OpenGL for many years. For my PhD I developed a 3D Scene Graph library, Ivf++, which was a wrapper around OpenGL. It contained a set of nodes for implementing interactive 3D applications, such as ObjectiveFrame a 3D beam analysis application focusing on real-time interaction. </p> <p>During the last decade OpenGL has evolved and the fixed function pipeline has been deprecated. Modern OpenGL is based on shaders and the programmable pipeline. This has made OpenGL more powerful, but with the cost of complexity and ease of use. This article is about my journey implementing a new 3D graphics library for C++ that is easy to use and at the same time flexible. Ultimately I want to get back to ease of use of the fixed function pipeline but with the power of modern OpenGL.</p> <!-- more --> <p>In an effort to learn modern OpenGL I started to reimplement the Ivf++ library using modern shader based OpenGL. I didn't want to refactor the original library as it is used in ObjectiveFrame, so I decided to create a new library from scratch, ivf2. At a high level I wanted to remove as many obstacles as possible programming 3D graphics applications in C++. The library should be easy to use and at the same time powerful. Also, it should be fun to create 3D applications in C++. Perhaps I will use it for creative coding at some point in the future.</p> <h2 id=design-goals>Design goals</h2> <p>As the library is a work in progress, the design goals are not yet fully realized and will probarbly change over time. However, the following are some of the goals I have in mind:</p> <ul> <li><strong>Easy to use</strong> - consistent syntax and API that is easy to understand)</li> <li><strong>Modern OpenGL</strong> - support modern OpenGL features</li> <li><strong>Scene Graph</strong> - main focus of rendering is the scene graph</li> <li><strong>Rich set of primitives</strong> - support for common 3D primitives</li> <li><strong>Interactive</strong> - support for easy interaction with the 3D scene</li> <li><strong>Built-in window support (GLFW)</strong> - it should be easy to create a window in the library</li> <li><strong>Build-in GUI support (ImGui)</strong> - immediate mode GUI for easy interaction with the application</li> <li><strong>Fully object-oriented</strong> - use of classes and objects for easy programming</li> <li><strong>Robust</strong> - shared and unique pointer support</li> <li><strong>Built-in stock shaders</strong> - no need to implement shaders for simple applications</li> <li><strong>Post processing effects</strong> - built-in support for post processing effects</li> </ul> <h2 id=the-journey-starts>The journey starts</h2> <p>The first steps in implementing the library was to create a flexible infrastructure compiling and linking shaders and keeping track of these. Shaders support in ivf2 is implemented in number of classes:</p> <ul> <li><strong>Shader</strong> - a class for loading and compiling a shader. </li> <li><strong>Program</strong> - a class for linking shaders into a program. </li> <li><strong>ShaderManager</strong> - a class for managing shaders and programs.</li> </ul> <p>The <strong>Shader</strong> class can load shaders from file and from strings. The built-in stock shaders are loaded from strings that are included from <ivf stock_shaders.h>. The <strong>Program</strong> class links shaders into a program. The class also provides an interface to the shader uniforms. The following example shows how to create a simple shader program:</ivf></p> <div class=highlight><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/vertex_shader.h&gt;</span>
<a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/fragment_shader.h&gt;</span>
<a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/program.h&gt;</span>
<a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/stock_shaders.h&gt;</span>
<a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a>
<a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span>
<a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=p>{</span>
<a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=w>    </span><span class=c1>// Initialization</span>
<a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a>
<a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>vertexShader</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>VertexShader</span><span class=o>::</span><span class=n>create</span><span class=p>(</span><span class=n>ivf</span><span class=o>::</span><span class=n>basic_vert_shader_source</span><span class=p>);</span>
<a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>fragmentShader</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>FragmentShader</span><span class=o>::</span><span class=n>create</span><span class=p>(</span><span class=n>ivf</span><span class=o>::</span><span class=n>basic_frag_shader_source</span><span class=p>);</span>
<a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a>
<a href=#__codelineno-0-13 id=__codelineno-0-13 name=__codelineno-0-13></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>program</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Program</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-0-14 id=__codelineno-0-14 name=__codelineno-0-14></a>
<a href=#__codelineno-0-15 id=__codelineno-0-15 name=__codelineno-0-15></a><span class=w>    </span><span class=n>program</span><span class=p>.</span><span class=n>addShader</span><span class=p>(</span><span class=n>vertexShader</span><span class=p>);</span>
<a href=#__codelineno-0-16 id=__codelineno-0-16 name=__codelineno-0-16></a><span class=w>    </span><span class=n>program</span><span class=p>.</span><span class=n>addShader</span><span class=p>(</span><span class=n>fragmentShader</span><span class=p>);</span>
<a href=#__codelineno-0-17 id=__codelineno-0-17 name=__codelineno-0-17></a>
<a href=#__codelineno-0-18 id=__codelineno-0-18 name=__codelineno-0-18></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>program</span><span class=p>.</span><span class=n>link</span><span class=p>())</span>
<a href=#__codelineno-0-19 id=__codelineno-0-19 name=__codelineno-0-19></a><span class=w>    </span><span class=p>{</span>
<a href=#__codelineno-0-20 id=__codelineno-0-20 name=__codelineno-0-20></a><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>"Failed to compile and link program."</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
<a href=#__codelineno-0-21 id=__codelineno-0-21 name=__codelineno-0-21></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>-1</span><span class=p>;</span>
<a href=#__codelineno-0-22 id=__codelineno-0-22 name=__codelineno-0-22></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-0-23 id=__codelineno-0-23 name=__codelineno-0-23></a>
<a href=#__codelineno-0-24 id=__codelineno-0-24 name=__codelineno-0-24></a><span class=w>        </span><span class=c1>// Main game loop</span>
<a href=#__codelineno-0-25 id=__codelineno-0-25 name=__codelineno-0-25></a>
<a href=#__codelineno-0-26 id=__codelineno-0-26 name=__codelineno-0-26></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>WindowShouldClose</span><span class=p>())</span><span class=w> </span>
<a href=#__codelineno-0-27 id=__codelineno-0-27 name=__codelineno-0-27></a><span class=w>    </span><span class=p>{</span>
<a href=#__codelineno-0-28 id=__codelineno-0-28 name=__codelineno-0-28></a><span class=w>        </span><span class=c1>// Draw</span>
<a href=#__codelineno-0-29 id=__codelineno-0-29 name=__codelineno-0-29></a>
<a href=#__codelineno-0-30 id=__codelineno-0-30 name=__codelineno-0-30></a><span class=w>        </span><span class=n>program</span><span class=o>-&gt;</span><span class=n>use</span><span class=p>();</span>
<a href=#__codelineno-0-31 id=__codelineno-0-31 name=__codelineno-0-31></a><span class=w>        </span><span class=n>program</span><span class=o>-&gt;</span><span class=n>uniformFloat</span><span class=p>(</span><span class=s>"time"</span><span class=p>,</span><span class=w> </span><span class=n>GetTime</span><span class=p>());</span>
<a href=#__codelineno-0-32 id=__codelineno-0-32 name=__codelineno-0-32></a><span class=w>        </span><span class=c1>// Draw something</span>
<a href=#__codelineno-0-33 id=__codelineno-0-33 name=__codelineno-0-33></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-0-34 id=__codelineno-0-34 name=__codelineno-0-34></a>
<a href=#__codelineno-0-35 id=__codelineno-0-35 name=__codelineno-0-35></a><span class=w>    </span><span class=c1>// De-Initialization</span>
<a href=#__codelineno-0-36 id=__codelineno-0-36 name=__codelineno-0-36></a>
<a href=#__codelineno-0-37 id=__codelineno-0-37 name=__codelineno-0-37></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<a href=#__codelineno-0-38 id=__codelineno-0-38 name=__codelineno-0-38></a><span class=p>}</span>
</code></pre></div> <p>To make it even easier to load and manage shaders a special singleton class <strong>ShaderManager</strong> is used. The <strong>ShaderManager</strong> class is a singleton class that manages shaders and programs. The shader manager implements methods for directly loading and compiling shaders to named programs. The following example shows how to create a simple shader program using the <strong>ShaderManager</strong>:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/shader_manager.h&gt;</span>
<a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/stock_shaders.h&gt;</span>
<a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>
<a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span>
<a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a><span class=p>{</span>
<a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a><span class=w>    </span><span class=c1>// Initialization</span>
<a href=#__codelineno-1-7 id=__codelineno-1-7 name=__codelineno-1-7></a>
<a href=#__codelineno-1-8 id=__codelineno-1-8 name=__codelineno-1-8></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>shaderManager</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ShaderManager</span><span class=o>::</span><span class=n>getInstance</span><span class=p>();</span>
<a href=#__codelineno-1-9 id=__codelineno-1-9 name=__codelineno-1-9></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>program</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>shaderManager</span><span class=o>-&gt;</span><span class=n>loadProgram</span><span class=p>(</span><span class=s>"basic"</span><span class=p>,</span><span class=w> </span><span class=n>ivf</span><span class=o>::</span><span class=n>basic_vert_shader_source</span><span class=p>,</span><span class=w> </span><span class=n>ivf</span><span class=o>::</span><span class=n>basic_frag_shader_source</span><span class=p>);</span>
<a href=#__codelineno-1-10 id=__codelineno-1-10 name=__codelineno-1-10></a>
<a href=#__codelineno-1-11 id=__codelineno-1-11 name=__codelineno-1-11></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>shaderManager</span><span class=o>-&gt;</span><span class=n>compileLinkErrors</span><span class=p>())</span>
<a href=#__codelineno-1-12 id=__codelineno-1-12 name=__codelineno-1-12></a><span class=w>    </span><span class=p>{</span>
<a href=#__codelineno-1-13 id=__codelineno-1-13 name=__codelineno-1-13></a><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>"Failed to compile and link program."</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
<a href=#__codelineno-1-14 id=__codelineno-1-14 name=__codelineno-1-14></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>-1</span><span class=p>;</span>
<a href=#__codelineno-1-15 id=__codelineno-1-15 name=__codelineno-1-15></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-1-16 id=__codelineno-1-16 name=__codelineno-1-16></a>
<a href=#__codelineno-1-17 id=__codelineno-1-17 name=__codelineno-1-17></a><span class=w>    </span><span class=c1>// Main game loop</span>
<a href=#__codelineno-1-18 id=__codelineno-1-18 name=__codelineno-1-18></a>
<a href=#__codelineno-1-19 id=__codelineno-1-19 name=__codelineno-1-19></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>WindowShouldClose</span><span class=p>())</span><span class=w> </span>
<a href=#__codelineno-1-20 id=__codelineno-1-20 name=__codelineno-1-20></a><span class=w>    </span><span class=p>{</span>
<a href=#__codelineno-1-21 id=__codelineno-1-21 name=__codelineno-1-21></a><span class=w>        </span><span class=c1>// Draw</span>
<a href=#__codelineno-1-22 id=__codelineno-1-22 name=__codelineno-1-22></a>
<a href=#__codelineno-1-23 id=__codelineno-1-23 name=__codelineno-1-23></a><span class=w>        </span><span class=n>program</span><span class=o>-&gt;</span><span class=n>use</span><span class=p>();</span>
<a href=#__codelineno-1-24 id=__codelineno-1-24 name=__codelineno-1-24></a><span class=w>        </span><span class=n>program</span><span class=o>-&gt;</span><span class=n>uniformFloat</span><span class=p>(</span><span class=s>"time"</span><span class=p>,</span><span class=w> </span><span class=n>GetTime</span><span class=p>());</span>
<a href=#__codelineno-1-25 id=__codelineno-1-25 name=__codelineno-1-25></a><span class=w>        </span><span class=c1>// Draw something</span>
<a href=#__codelineno-1-26 id=__codelineno-1-26 name=__codelineno-1-26></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-1-27 id=__codelineno-1-27 name=__codelineno-1-27></a>
<a href=#__codelineno-1-28 id=__codelineno-1-28 name=__codelineno-1-28></a><span class=w>    </span><span class=c1>// De-Initialization</span>
<a href=#__codelineno-1-29 id=__codelineno-1-29 name=__codelineno-1-29></a>
<a href=#__codelineno-1-30 id=__codelineno-1-30 name=__codelineno-1-30></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<a href=#__codelineno-1-31 id=__codelineno-1-31 name=__codelineno-1-31></a><span class=p>}</span>
</code></pre></div> <p>Compiled programs can be convieniently accessed by name using the <strong>ShaderManager</strong>. </p> <div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=c1>// Get named program</span>
<a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a>
<a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a><span class=k>auto</span><span class=w> </span><span class=n>program</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>shaderManager</span><span class=o>-&gt;</span><span class=n>program</span><span class=p>(</span><span class=s>"basic"</span><span class=p>);</span>
<a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>
<a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a><span class=c1>// The the current program</span>
<a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a>
<a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a><span class=n>shaderManager</span><span class=o>-&gt;</span><span class=n>setCurrentProgram</span><span class=p>(</span><span class=s>"basic"</span><span class=p>);</span>
<a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a>
<a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a><span class=k>auto</span><span class=w> </span><span class=n>program</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>shaderManager</span><span class=o>-&gt;</span><span class=n>currentProgram</span><span class=p>();</span>
</code></pre></div> <h2 id=not-calling-new-and-delete>Not calling new and delete...</h2> <p>One major goal of the library was to be able to use shared and unique pointers for managing objects. This means that you don't have to call new and delete for creating objects. The library is fully object-oriented and uses shared and unique pointers for managing objects. </p> <p>To support shared pointers and also supporting new users I decided that all classes implemented by the library should have a static create method, which can be called to create an object. By combining this with the auto keyword in C++11, the code becomes very clean and easy to read. The following example shows how to create a shared pointer to a ivf::Cylinder object:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>ivf</span><span class=p>;</span>
<a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>
<a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a><span class=k>auto</span><span class=w> </span><span class=n>cylinder</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Cylinder</span><span class=o>::</span><span class=n>create</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mi>32</span><span class=p>);</span>
</code></pre></div> <p>The <strong>create</strong> method is a static method that returns a shared pointer to the object. The object is automatically deleted when the last shared pointer goes out of scope.</p> <p>The syntax of using a <strong>create()</strong> method is heavily inspired by Object Pascal and Delphi. I have used Delphi for many years and I like the syntax of creating objects in Delphi.</p> <p>To make it easier for new users of the library, all classes also defined a typedef for a shared pointer to the object. This means that you can use the typedef to create a shared pointer to the object. The following example shows how to create a shared pointer to a ivf::Cylinder object using the typedef:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>ivf</span><span class=p>;</span>
<a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>
<a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a><span class=n>CylinderPtr</span><span class=w> </span><span class=n>cylinder</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Cylinder</span><span class=o>::</span><span class=n>create</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mi>32</span><span class=p>);</span>
<a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a>
<a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a><span class=c1>// Equivalent to</span>
<a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a><span class=c1>// std::shared_ptr&lt;Cylinder&gt; cylinder = std::make_shared&lt;Cylinder&gt;(1.0, 1.0, 32);</span>
</code></pre></div> <p>As the library heavily relies on Polymorphism, using shared pointers is a natural choice. The library is designed to be used with shared pointers and the library itself uses shared pointers for managing objects.</p> <h2 id=the-scene-graph>The Scene Graph</h2> <p>The scene graph in ivf2 is based on 2 main classes <strong>Node</strong> and <strong>CompositeNode</strong>. The <strong>Node</strong> class is the base class for all nodes in the scene graph. The <strong>CompositeNode</strong> class is a node that can contain other nodes. The scene graph is a tree structure where each node can have a parent and children. The scene graph is traversed in a depth-first manner. The following example shows how to create a simple scene graph:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/gl.h&gt;</span>
<a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/nodes.h&gt;</span>
<a href=#__codelineno-5-3 id=__codelineno-5-3 name=__codelineno-5-3></a>
<a href=#__codelineno-5-4 id=__codelineno-5-4 name=__codelineno-5-4></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span>
<a href=#__codelineno-5-5 id=__codelineno-5-5 name=__codelineno-5-5></a><span class=p>{</span>
<a href=#__codelineno-5-6 id=__codelineno-5-6 name=__codelineno-5-6></a><span class=w>    </span><span class=c1>// ...</span>
<a href=#__codelineno-5-7 id=__codelineno-5-7 name=__codelineno-5-7></a>
<a href=#__codelineno-5-8 id=__codelineno-5-8 name=__codelineno-5-8></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>scene</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>CompositeNode</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-5-9 id=__codelineno-5-9 name=__codelineno-5-9></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>cube</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Cube</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-5-10 id=__codelineno-5-10 name=__codelineno-5-10></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>sphere</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Sphere</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-5-11 id=__codelineno-5-11 name=__codelineno-5-11></a>
<a href=#__codelineno-5-12 id=__codelineno-5-12 name=__codelineno-5-12></a><span class=w>    </span><span class=n>scene</span><span class=o>-&gt;</span><span class=n>add</span><span class=p>(</span><span class=n>cube</span><span class=p>);</span>
<a href=#__codelineno-5-13 id=__codelineno-5-13 name=__codelineno-5-13></a>
<a href=#__codelineno-5-14 id=__codelineno-5-14 name=__codelineno-5-14></a><span class=w>    </span><span class=c1>// ...</span>
<a href=#__codelineno-5-15 id=__codelineno-5-15 name=__codelineno-5-15></a>
<a href=#__codelineno-5-16 id=__codelineno-5-16 name=__codelineno-5-16></a><span class=w>    </span><span class=n>scene</span><span class=o>-&gt;</span><span class=n>draw</span><span class=p>();</span>
<a href=#__codelineno-5-17 id=__codelineno-5-17 name=__codelineno-5-17></a>
<a href=#__codelineno-5-18 id=__codelineno-5-18 name=__codelineno-5-18></a><span class=w>    </span><span class=c1>// ...</span>
<a href=#__codelineno-5-19 id=__codelineno-5-19 name=__codelineno-5-19></a>
<a href=#__codelineno-5-20 id=__codelineno-5-20 name=__codelineno-5-20></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<a href=#__codelineno-5-21 id=__codelineno-5-21 name=__codelineno-5-21></a><span class=p>}</span>
</code></pre></div> <p>Most primitive classes derive from the <strong>TransformNode</strong> class which provides basic transformation functionality. The <strong>TransformNode</strong> class is a node that can be transformed using translation, rotation and scaling. The following example shows how to create a simple scene graph with a transformed cube:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a><span class=k>auto</span><span class=w> </span><span class=n>scene</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>CompositeNode</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-6-2 id=__codelineno-6-2 name=__codelineno-6-2></a><span class=k>auto</span><span class=w> </span><span class=n>cube</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Cube</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-6-3 id=__codelineno-6-3 name=__codelineno-6-3></a><span class=k>auto</span><span class=w> </span><span class=n>sphere</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Sphere</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-6-4 id=__codelineno-6-4 name=__codelineno-6-4></a>
<a href=#__codelineno-6-5 id=__codelineno-6-5 name=__codelineno-6-5></a><span class=n>cube</span><span class=o>-&gt;</span><span class=n>setPos</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
<a href=#__codelineno-6-6 id=__codelineno-6-6 name=__codelineno-6-6></a><span class=n>sphere</span><span class=o>-&gt;</span><span class=n>setPos</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
</code></pre></div> <h2 id=meshnode-and-primitives>MeshNode and primitives</h2> <p>I realised the time for immediate mode rendering is over. The library is based on modern OpenGL and uses Vertex Buffer Objects (VBO) and Vertex Array Objects (VAO) for rendering. The <strong>MeshNode</strong> class implements the functionality for rendering creating meshes using VBOs and VAOs using a simple interface similar to the fixed function pipeline. To implement a mesh, a derived class overrides the <strong>doSetup</strong> method of the <strong>MeshNode</strong>-class. The following example shows how the <strong>Cube</strong> class implements its mesh:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a><span class=kt>void</span><span class=w> </span><span class=nf>Cube::doSetup</span><span class=p>()</span>
<a href=#__codelineno-7-2 id=__codelineno-7-2 name=__codelineno-7-2></a><span class=p>{</span>
<a href=#__codelineno-7-3 id=__codelineno-7-3 name=__codelineno-7-3></a><span class=w>    </span><span class=c1>//   y  o--------o</span>
<a href=#__codelineno-7-4 id=__codelineno-7-4 name=__codelineno-7-4></a><span class=w>    </span><span class=c1>//   ^ /|       /| </span>
<a href=#__codelineno-7-5 id=__codelineno-7-5 name=__codelineno-7-5></a><span class=w>    </span><span class=c1>//   |/ |     2/ |</span>
<a href=#__codelineno-7-6 id=__codelineno-7-6 name=__codelineno-7-6></a><span class=w>    </span><span class=c1>//  3o--------o  |</span>
<a href=#__codelineno-7-7 id=__codelineno-7-7 name=__codelineno-7-7></a><span class=w>    </span><span class=c1>//   |  o-----|--o </span>
<a href=#__codelineno-7-8 id=__codelineno-7-8 name=__codelineno-7-8></a><span class=w>    </span><span class=c1>//   | /      | / </span>
<a href=#__codelineno-7-9 id=__codelineno-7-9 name=__codelineno-7-9></a><span class=w>    </span><span class=c1>//   |/       |/</span>
<a href=#__codelineno-7-10 id=__codelineno-7-10 name=__codelineno-7-10></a><span class=w>    </span><span class=c1>//   o--------o --&gt; x</span>
<a href=#__codelineno-7-11 id=__codelineno-7-11 name=__codelineno-7-11></a><span class=w>    </span><span class=c1>//   0        1</span>
<a href=#__codelineno-7-12 id=__codelineno-7-12 name=__codelineno-7-12></a>
<a href=#__codelineno-7-13 id=__codelineno-7-13 name=__codelineno-7-13></a><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m_size</span><span class=o>/</span><span class=mf>2.0</span><span class=p>;</span>
<a href=#__codelineno-7-14 id=__codelineno-7-14 name=__codelineno-7-14></a>
<a href=#__codelineno-7-15 id=__codelineno-7-15 name=__codelineno-7-15></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>begin</span><span class=p>(</span><span class=n>GL_TRIANGLES</span><span class=p>);</span>
<a href=#__codelineno-7-16 id=__codelineno-7-16 name=__codelineno-7-16></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>vertex3d</span><span class=p>(</span><span class=o>-</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=p>);</span>
<a href=#__codelineno-7-17 id=__codelineno-7-17 name=__codelineno-7-17></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>color3f</span><span class=p>(</span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>);</span>
<a href=#__codelineno-7-18 id=__codelineno-7-18 name=__codelineno-7-18></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>vertex3d</span><span class=p>(</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=p>);</span>
<a href=#__codelineno-7-19 id=__codelineno-7-19 name=__codelineno-7-19></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>color3f</span><span class=p>(</span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>);</span>
<a href=#__codelineno-7-20 id=__codelineno-7-20 name=__codelineno-7-20></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>vertex3d</span><span class=p>(</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=p>);</span>
<a href=#__codelineno-7-21 id=__codelineno-7-21 name=__codelineno-7-21></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>color3f</span><span class=p>(</span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>);</span>
<a href=#__codelineno-7-22 id=__codelineno-7-22 name=__codelineno-7-22></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>vertex3d</span><span class=p>(</span><span class=o>-</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=p>);</span>
<a href=#__codelineno-7-23 id=__codelineno-7-23 name=__codelineno-7-23></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>color3f</span><span class=p>(</span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>);</span>
<a href=#__codelineno-7-24 id=__codelineno-7-24 name=__codelineno-7-24></a>
<a href=#__codelineno-7-25 id=__codelineno-7-25 name=__codelineno-7-25></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>index3i</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>);</span><span class=w> </span><span class=c1>// front</span>
<a href=#__codelineno-7-26 id=__codelineno-7-26 name=__codelineno-7-26></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>index3i</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span>
<a href=#__codelineno-7-27 id=__codelineno-7-27 name=__codelineno-7-27></a>
<a href=#__codelineno-7-28 id=__codelineno-7-28 name=__codelineno-7-28></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>vertex3d</span><span class=p>(</span><span class=o>-</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>n</span><span class=p>);</span>
<a href=#__codelineno-7-29 id=__codelineno-7-29 name=__codelineno-7-29></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>color3f</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>);</span>
<a href=#__codelineno-7-30 id=__codelineno-7-30 name=__codelineno-7-30></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>vertex3d</span><span class=p>(</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>n</span><span class=p>);</span>
<a href=#__codelineno-7-31 id=__codelineno-7-31 name=__codelineno-7-31></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>color3f</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>);</span>
<a href=#__codelineno-7-32 id=__codelineno-7-32 name=__codelineno-7-32></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>vertex3d</span><span class=p>(</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>n</span><span class=p>);</span>
<a href=#__codelineno-7-33 id=__codelineno-7-33 name=__codelineno-7-33></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>color3f</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>);</span>
<a href=#__codelineno-7-34 id=__codelineno-7-34 name=__codelineno-7-34></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>vertex3d</span><span class=p>(</span><span class=o>-</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>n</span><span class=p>);</span>
<a href=#__codelineno-7-35 id=__codelineno-7-35 name=__codelineno-7-35></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>color3f</span><span class=p>(</span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>);</span>
<a href=#__codelineno-7-36 id=__codelineno-7-36 name=__codelineno-7-36></a>
<a href=#__codelineno-7-37 id=__codelineno-7-37 name=__codelineno-7-37></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>index3i</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>);</span><span class=w> </span><span class=c1>// back</span>
<a href=#__codelineno-7-38 id=__codelineno-7-38 name=__codelineno-7-38></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>index3i</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>);</span>
<a href=#__codelineno-7-39 id=__codelineno-7-39 name=__codelineno-7-39></a>
<a href=#__codelineno-7-40 id=__codelineno-7-40 name=__codelineno-7-40></a><span class=w>    </span><span class=c1>// ...</span>
<a href=#__codelineno-7-41 id=__codelineno-7-41 name=__codelineno-7-41></a>
<a href=#__codelineno-7-42 id=__codelineno-7-42 name=__codelineno-7-42></a><span class=w>    </span><span class=n>mesh</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>end</span><span class=p>();</span>
<a href=#__codelineno-7-43 id=__codelineno-7-43 name=__codelineno-7-43></a><span class=p>}</span>
</code></pre></div> <p>I also realised that implementing all primitives in the library would be a huge task. To solve this I search the internet and github for a solution to this problem. What I found was a geometry generator called <a href=https://github.com/ilmola/generator>Generator</a>. It is a header only library that can generate most basic primitives shapes that can be used in 3D graphics. Most of the primitives in ivf2 are implemented using the Generator library. The following example shows how to create a sphere using the Generator library:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a><span class=c1>// ...</span>
<a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a>
<a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a><span class=kt>void</span><span class=w> </span><span class=nf>Sphere::doSetup</span><span class=p>()</span>
<a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a><span class=p>{</span>
<a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a><span class=w>    </span><span class=n>SphereMesh</span><span class=w> </span><span class=n>sphere</span><span class=p>(</span><span class=n>m_radius</span><span class=p>,</span><span class=w> </span><span class=n>m_slices</span><span class=p>,</span><span class=w> </span><span class=n>m_segments</span><span class=p>,</span><span class=w> </span><span class=n>m_sliceStart</span><span class=p>,</span><span class=w> </span><span class=n>m_sliceSweep</span><span class=p>,</span><span class=w> </span><span class=n>m_segmentStart</span><span class=p>,</span><span class=w> </span><span class=n>m_segmentSweep</span><span class=p>);</span>
<a href=#__codelineno-8-6 id=__codelineno-8-6 name=__codelineno-8-6></a>
<a href=#__codelineno-8-7 id=__codelineno-8-7 name=__codelineno-8-7></a><span class=w>    </span><span class=n>AnyGenerator</span><span class=o>&lt;</span><span class=n>MeshVertex</span><span class=o>&gt;</span><span class=w> </span><span class=n>vertices</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sphere</span><span class=p>.</span><span class=n>vertices</span><span class=p>();</span>
<a href=#__codelineno-8-8 id=__codelineno-8-8 name=__codelineno-8-8></a><span class=w>    </span><span class=n>AnyGenerator</span><span class=o>&lt;</span><span class=n>Triangle</span><span class=o>&gt;</span><span class=w> </span><span class=n>triangles</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sphere</span><span class=p>.</span><span class=n>triangles</span><span class=p>();</span>
<a href=#__codelineno-8-9 id=__codelineno-8-9 name=__codelineno-8-9></a>
<a href=#__codelineno-8-10 id=__codelineno-8-10 name=__codelineno-8-10></a><span class=w>    </span><span class=k>this</span><span class=o>-&gt;</span><span class=n>createFromGenerator</span><span class=p>(</span><span class=n>vertices</span><span class=p>,</span><span class=w> </span><span class=n>triangles</span><span class=p>);</span>
<a href=#__codelineno-8-11 id=__codelineno-8-11 name=__codelineno-8-11></a><span class=p>}</span>
<a href=#__codelineno-8-12 id=__codelineno-8-12 name=__codelineno-8-12></a>
<a href=#__codelineno-8-13 id=__codelineno-8-13 name=__codelineno-8-13></a><span class=c1>// ...</span>
</code></pre></div> <p>To support generating geometry using this library the <strong>MeshNode</strong> class implements a special method <strong>createFromGenerator</strong> that can create a mesh from a generator. The <strong>createFromGenerator</strong> method takes two generators, one for vertices and one for triangles. </p> <h2 id=lights-materials-and-textures>Lights, materials and textures</h2> <p>To recreate an environment similar to the fixed function pipeline, ivf2 comes with built-in support for lights, materials and textures. The <strong>Light</strong> class implements a light source that can be used in the scene. The <strong>Material</strong> class implements a material that can be used to set the material properties of an object. The <strong>Texture</strong> class implements a texture that can be used to texture an object. The following example shows how to create a light, material and texture:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a><span class=k>auto</span><span class=w> </span><span class=n>shaderMgr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ShaderManager</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a>
<a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a><span class=c1>// Load our basic shader</span>
<a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a>
<a href=#__codelineno-9-5 id=__codelineno-9-5 name=__codelineno-9-5></a><span class=n>shaderMgr</span><span class=o>-&gt;</span><span class=n>loadBasicShader</span><span class=p>();</span>
<a href=#__codelineno-9-6 id=__codelineno-9-6 name=__codelineno-9-6></a>
<a href=#__codelineno-9-7 id=__codelineno-9-7 name=__codelineno-9-7></a><span class=c1>// Lights are managed by the LightManager</span>
<a href=#__codelineno-9-8 id=__codelineno-9-8 name=__codelineno-9-8></a>
<a href=#__codelineno-9-9 id=__codelineno-9-9 name=__codelineno-9-9></a><span class=k>auto</span><span class=w> </span><span class=n>lightMgr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LightManager</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-9-10 id=__codelineno-9-10 name=__codelineno-9-10></a>
<a href=#__codelineno-9-11 id=__codelineno-9-11 name=__codelineno-9-11></a><span class=c1>// Add a point light</span>
<a href=#__codelineno-9-12 id=__codelineno-9-12 name=__codelineno-9-12></a>
<a href=#__codelineno-9-13 id=__codelineno-9-13 name=__codelineno-9-13></a><span class=k>auto</span><span class=w> </span><span class=n>pointLight1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lightMgr</span><span class=o>-&gt;</span><span class=n>addPointLight</span><span class=p>();</span>
<a href=#__codelineno-9-14 id=__codelineno-9-14 name=__codelineno-9-14></a><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setEnabled</span><span class=p>(</span><span class=nb>true</span><span class=p>);</span>
<a href=#__codelineno-9-15 id=__codelineno-9-15 name=__codelineno-9-15></a><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setDiffuseColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>
<a href=#__codelineno-9-16 id=__codelineno-9-16 name=__codelineno-9-16></a><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setSpecularColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>
<a href=#__codelineno-9-17 id=__codelineno-9-17 name=__codelineno-9-17></a><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setAttenuation</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>);</span>
<a href=#__codelineno-9-18 id=__codelineno-9-18 name=__codelineno-9-18></a><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setPosition</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>5.0</span><span class=p>,</span><span class=w> </span><span class=mf>5.0</span><span class=p>,</span><span class=w> </span><span class=mf>5.0</span><span class=p>));</span>
<a href=#__codelineno-9-19 id=__codelineno-9-19 name=__codelineno-9-19></a>
<a href=#__codelineno-9-20 id=__codelineno-9-20 name=__codelineno-9-20></a><span class=c1>// Update the shader</span>
<a href=#__codelineno-9-21 id=__codelineno-9-21 name=__codelineno-9-21></a>
<a href=#__codelineno-9-22 id=__codelineno-9-22 name=__codelineno-9-22></a><span class=n>lightMgr</span><span class=o>-&gt;</span><span class=n>apply</span><span class=p>();</span>
<a href=#__codelineno-9-23 id=__codelineno-9-23 name=__codelineno-9-23></a>
<a href=#__codelineno-9-24 id=__codelineno-9-24 name=__codelineno-9-24></a><span class=c1>// Create a material</span>
<a href=#__codelineno-9-25 id=__codelineno-9-25 name=__codelineno-9-25></a>
<a href=#__codelineno-9-26 id=__codelineno-9-26 name=__codelineno-9-26></a><span class=k>auto</span><span class=w> </span><span class=n>material</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Material</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-9-27 id=__codelineno-9-27 name=__codelineno-9-27></a><span class=n>material</span><span class=o>-&gt;</span><span class=n>setDiffuseColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec4</span><span class=p>(</span><span class=n>random</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>),</span><span class=w> </span><span class=n>random</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>),</span><span class=w> </span><span class=n>random</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>),</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>
<a href=#__codelineno-9-28 id=__codelineno-9-28 name=__codelineno-9-28></a><span class=n>material</span><span class=o>-&gt;</span><span class=n>setAmbientColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec4</span><span class=p>(</span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>
<a href=#__codelineno-9-29 id=__codelineno-9-29 name=__codelineno-9-29></a>
<a href=#__codelineno-9-30 id=__codelineno-9-30 name=__codelineno-9-30></a><span class=c1>// Create a sphere with an attached material</span>
<a href=#__codelineno-9-31 id=__codelineno-9-31 name=__codelineno-9-31></a>
<a href=#__codelineno-9-32 id=__codelineno-9-32 name=__codelineno-9-32></a><span class=k>auto</span><span class=w> </span><span class=n>sphere</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Sphere</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-9-33 id=__codelineno-9-33 name=__codelineno-9-33></a><span class=n>sphere</span><span class=o>-&gt;</span><span class=n>setMaterial</span><span class=p>(</span><span class=n>material</span><span class=p>);</span>
<a href=#__codelineno-9-34 id=__codelineno-9-34 name=__codelineno-9-34></a>
<a href=#__codelineno-9-35 id=__codelineno-9-35 name=__codelineno-9-35></a><span class=c1>// ...</span>
</code></pre></div> <p>Textures can also be attached to nodes in the scene graph. The <strong>Texture</strong> class implements a texture that can be used to texture an object. The following example shows how to create a texture and attach it to a node:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a><span class=k>auto</span><span class=w> </span><span class=n>textureCat</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Texture</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-10-2 id=__codelineno-10-2 name=__codelineno-10-2></a><span class=n>textureCat</span><span class=o>-&gt;</span><span class=n>load</span><span class=p>(</span><span class=s>"assets/pop_cat.png"</span><span class=p>);</span>
<a href=#__codelineno-10-3 id=__codelineno-10-3 name=__codelineno-10-3></a>
<a href=#__codelineno-10-4 id=__codelineno-10-4 name=__codelineno-10-4></a><span class=k>auto</span><span class=w> </span><span class=n>textureBrick</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Texture</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-10-5 id=__codelineno-10-5 name=__codelineno-10-5></a><span class=n>textureBrick</span><span class=o>-&gt;</span><span class=n>load</span><span class=p>(</span><span class=s>"assets/brick.png"</span><span class=p>);</span>
<a href=#__codelineno-10-6 id=__codelineno-10-6 name=__codelineno-10-6></a>
<a href=#__codelineno-10-7 id=__codelineno-10-7 name=__codelineno-10-7></a><span class=k>auto</span><span class=w> </span><span class=n>sphere</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Sphere</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-10-8 id=__codelineno-10-8 name=__codelineno-10-8></a><span class=n>sphere</span><span class=o>-&gt;</span><span class=n>setTexture</span><span class=p>(</span><span class=n>textureCat</span><span class=p>);</span>
<a href=#__codelineno-10-9 id=__codelineno-10-9 name=__codelineno-10-9></a><span class=n>sphere</span><span class=o>-&gt;</span><span class=n>setMaterial</span><span class=p>(</span><span class=n>sphereMaterial</span><span class=p>);</span>
<a href=#__codelineno-10-10 id=__codelineno-10-10 name=__codelineno-10-10></a><span class=n>sphere</span><span class=o>-&gt;</span><span class=n>setPos</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>3.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
<a href=#__codelineno-10-11 id=__codelineno-10-11 name=__codelineno-10-11></a>
<a href=#__codelineno-10-12 id=__codelineno-10-12 name=__codelineno-10-12></a><span class=k>auto</span><span class=w> </span><span class=n>box</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Box</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-10-13 id=__codelineno-10-13 name=__codelineno-10-13></a><span class=n>box</span><span class=o>-&gt;</span><span class=n>setTexture</span><span class=p>(</span><span class=n>textureBrick</span><span class=p>);</span>
<a href=#__codelineno-10-14 id=__codelineno-10-14 name=__codelineno-10-14></a><span class=n>box</span><span class=o>-&gt;</span><span class=n>setMaterial</span><span class=p>(</span><span class=n>sphereMaterial</span><span class=p>);</span>
<a href=#__codelineno-10-15 id=__codelineno-10-15 name=__codelineno-10-15></a><span class=n>box</span><span class=o>-&gt;</span><span class=n>setPos</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>3.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
</code></pre></div> <h2 id=windows-and-gui>Windows and GUI</h2> <p>To make it easy to create a window and GUI in the library, ivf2 comes with built-in support for GLFW and ImGui in the <strong>ivfui</strong>-library. Window support in ivf2 is implemented using the GLFW library encapsulated in <strong>GLFWApplication</strong>, <strong>GLFWWindow</strong> and <strong>GLFWSceneWindow</strong> classes. The <strong>Application</strong> class is a singleton class that manages GLFW windows and the rendering contexts. The following examples illustrates a versy simple ivf2 GLFW application:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
<a href=#__codelineno-11-2 id=__codelineno-11-2 name=__codelineno-11-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;memory&gt;</span>
<a href=#__codelineno-11-3 id=__codelineno-11-3 name=__codelineno-11-3></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
<a href=#__codelineno-11-4 id=__codelineno-11-4 name=__codelineno-11-4></a>
<a href=#__codelineno-11-5 id=__codelineno-11-5 name=__codelineno-11-5></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivfui/glfw_application.h&gt;</span>
<a href=#__codelineno-11-6 id=__codelineno-11-6 name=__codelineno-11-6></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivfui/glfw_window.h&gt;</span>
<a href=#__codelineno-11-7 id=__codelineno-11-7 name=__codelineno-11-7></a>
<a href=#__codelineno-11-8 id=__codelineno-11-8 name=__codelineno-11-8></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/gl.h&gt;</span>
<a href=#__codelineno-11-9 id=__codelineno-11-9 name=__codelineno-11-9></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/nodes.h&gt;</span>
<a href=#__codelineno-11-10 id=__codelineno-11-10 name=__codelineno-11-10></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivfui/ui.h&gt;</span>
<a href=#__codelineno-11-11 id=__codelineno-11-11 name=__codelineno-11-11></a>
<a href=#__codelineno-11-12 id=__codelineno-11-12 name=__codelineno-11-12></a><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>ivf</span><span class=p>;</span>
<a href=#__codelineno-11-13 id=__codelineno-11-13 name=__codelineno-11-13></a><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>ivfui</span><span class=p>;</span>
<a href=#__codelineno-11-14 id=__codelineno-11-14 name=__codelineno-11-14></a><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>std</span><span class=p>;</span>
<a href=#__codelineno-11-15 id=__codelineno-11-15 name=__codelineno-11-15></a>
<a href=#__codelineno-11-16 id=__codelineno-11-16 name=__codelineno-11-16></a><span class=k>class</span><span class=w> </span><span class=nc>ExampleWindow</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>GLFWWindow</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-11-17 id=__codelineno-11-17 name=__codelineno-11-17></a><span class=k>private</span><span class=o>:</span>
<a href=#__codelineno-11-18 id=__codelineno-11-18 name=__codelineno-11-18></a><span class=w>    </span><span class=n>CompositeNodePtr</span><span class=w> </span><span class=n>m_scene</span><span class=p>;</span>
<a href=#__codelineno-11-19 id=__codelineno-11-19 name=__codelineno-11-19></a><span class=w>    </span><span class=n>CameraManipulatorPtr</span><span class=w> </span><span class=n>m_camManip</span><span class=p>;</span>
<a href=#__codelineno-11-20 id=__codelineno-11-20 name=__codelineno-11-20></a>
<a href=#__codelineno-11-21 id=__codelineno-11-21 name=__codelineno-11-21></a><span class=k>public</span><span class=o>:</span>
<a href=#__codelineno-11-22 id=__codelineno-11-22 name=__codelineno-11-22></a><span class=w>    </span><span class=n>ExampleWindow</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=w> </span><span class=n>title</span><span class=p>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>GLFWWindow</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>title</span><span class=p>)</span>
<a href=#__codelineno-11-23 id=__codelineno-11-23 name=__codelineno-11-23></a><span class=w>    </span><span class=p>{}</span>
<a href=#__codelineno-11-24 id=__codelineno-11-24 name=__codelineno-11-24></a>
<a href=#__codelineno-11-25 id=__codelineno-11-25 name=__codelineno-11-25></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>ExampleWindow</span><span class=o>&gt;</span><span class=w> </span><span class=n>create</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=w> </span><span class=n>title</span><span class=p>)</span>
<a href=#__codelineno-11-26 id=__codelineno-11-26 name=__codelineno-11-26></a><span class=w>    </span><span class=p>{</span>
<a href=#__codelineno-11-27 id=__codelineno-11-27 name=__codelineno-11-27></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=n>ExampleWindow</span><span class=o>&gt;</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>title</span><span class=p>);</span>
<a href=#__codelineno-11-28 id=__codelineno-11-28 name=__codelineno-11-28></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-11-29 id=__codelineno-11-29 name=__codelineno-11-29></a>
<a href=#__codelineno-11-30 id=__codelineno-11-30 name=__codelineno-11-30></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>onSetup</span><span class=p>()</span>
<a href=#__codelineno-11-31 id=__codelineno-11-31 name=__codelineno-11-31></a><span class=w>    </span><span class=p>{</span>
<a href=#__codelineno-11-32 id=__codelineno-11-32 name=__codelineno-11-32></a><span class=w>        </span><span class=c1>// Setup the scene</span>
<a href=#__codelineno-11-33 id=__codelineno-11-33 name=__codelineno-11-33></a>
<a href=#__codelineno-11-34 id=__codelineno-11-34 name=__codelineno-11-34></a><span class=w>        </span><span class=k>auto</span><span class=w> </span><span class=n>shaderMgr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ShaderManager</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-11-35 id=__codelineno-11-35 name=__codelineno-11-35></a><span class=w>        </span><span class=n>shaderMgr</span><span class=o>-&gt;</span><span class=n>loadBasicShader</span><span class=p>();</span>
<a href=#__codelineno-11-36 id=__codelineno-11-36 name=__codelineno-11-36></a>
<a href=#__codelineno-11-37 id=__codelineno-11-37 name=__codelineno-11-37></a><span class=w>        </span><span class=k>auto</span><span class=w> </span><span class=n>lightMgr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LightManager</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-11-38 id=__codelineno-11-38 name=__codelineno-11-38></a>
<a href=#__codelineno-11-39 id=__codelineno-11-39 name=__codelineno-11-39></a><span class=w>        </span><span class=k>auto</span><span class=w> </span><span class=n>pointLight1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lightMgr</span><span class=o>-&gt;</span><span class=n>addPointLight</span><span class=p>();</span>
<a href=#__codelineno-11-40 id=__codelineno-11-40 name=__codelineno-11-40></a><span class=w>        </span><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setEnabled</span><span class=p>(</span><span class=nb>true</span><span class=p>);</span>
<a href=#__codelineno-11-41 id=__codelineno-11-41 name=__codelineno-11-41></a><span class=w>        </span><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setDiffuseColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>
<a href=#__codelineno-11-42 id=__codelineno-11-42 name=__codelineno-11-42></a><span class=w>        </span><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setSpecularColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>
<a href=#__codelineno-11-43 id=__codelineno-11-43 name=__codelineno-11-43></a><span class=w>        </span><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setAttenuation</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>);</span>
<a href=#__codelineno-11-44 id=__codelineno-11-44 name=__codelineno-11-44></a><span class=w>        </span><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setPosition</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>5.0</span><span class=p>,</span><span class=w> </span><span class=mf>5.0</span><span class=p>,</span><span class=w> </span><span class=mf>5.0</span><span class=p>));</span>
<a href=#__codelineno-11-45 id=__codelineno-11-45 name=__codelineno-11-45></a><span class=w>        </span><span class=n>lightMgr</span><span class=o>-&gt;</span><span class=n>apply</span><span class=p>();</span>
<a href=#__codelineno-11-46 id=__codelineno-11-46 name=__codelineno-11-46></a>
<a href=#__codelineno-11-47 id=__codelineno-11-47 name=__codelineno-11-47></a><span class=w>        </span><span class=n>m_scene</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>CompositeNode</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-11-48 id=__codelineno-11-48 name=__codelineno-11-48></a>
<a href=#__codelineno-11-49 id=__codelineno-11-49 name=__codelineno-11-49></a><span class=w>        </span><span class=k>auto</span><span class=w> </span><span class=n>axis</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Axis</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-11-50 id=__codelineno-11-50 name=__codelineno-11-50></a>
<a href=#__codelineno-11-51 id=__codelineno-11-51 name=__codelineno-11-51></a><span class=w>        </span><span class=n>m_scene</span><span class=o>-&gt;</span><span class=n>add</span><span class=p>(</span><span class=n>axis</span><span class=p>);</span>
<a href=#__codelineno-11-52 id=__codelineno-11-52 name=__codelineno-11-52></a>
<a href=#__codelineno-11-53 id=__codelineno-11-53 name=__codelineno-11-53></a><span class=w>        </span><span class=c1>// Create more nodes ...</span>
<a href=#__codelineno-11-54 id=__codelineno-11-54 name=__codelineno-11-54></a>
<a href=#__codelineno-11-55 id=__codelineno-11-55 name=__codelineno-11-55></a><span class=w>        </span><span class=n>m_scene</span><span class=o>-&gt;</span><span class=n>add</span><span class=p>(</span><span class=n>node</span><span class=p>);</span>
<a href=#__codelineno-11-56 id=__codelineno-11-56 name=__codelineno-11-56></a>
<a href=#__codelineno-11-57 id=__codelineno-11-57 name=__codelineno-11-57></a><span class=w>        </span><span class=n>m_camManip</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>CameraManipulator</span><span class=o>::</span><span class=n>create</span><span class=p>(</span><span class=k>this</span><span class=o>-&gt;</span><span class=n>ref</span><span class=p>());</span>
<a href=#__codelineno-11-58 id=__codelineno-11-58 name=__codelineno-11-58></a>
<a href=#__codelineno-11-59 id=__codelineno-11-59 name=__codelineno-11-59></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<a href=#__codelineno-11-60 id=__codelineno-11-60 name=__codelineno-11-60></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-11-61 id=__codelineno-11-61 name=__codelineno-11-61></a>
<a href=#__codelineno-11-62 id=__codelineno-11-62 name=__codelineno-11-62></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>onDraw</span><span class=p>()</span>
<a href=#__codelineno-11-63 id=__codelineno-11-63 name=__codelineno-11-63></a><span class=w>    </span><span class=p>{</span>
<a href=#__codelineno-11-64 id=__codelineno-11-64 name=__codelineno-11-64></a><span class=w>        </span><span class=c1>// This method is called continuously to draw the scene</span>
<a href=#__codelineno-11-65 id=__codelineno-11-65 name=__codelineno-11-65></a>
<a href=#__codelineno-11-66 id=__codelineno-11-66 name=__codelineno-11-66></a><span class=w>        </span><span class=n>glClearColor</span><span class=p>(</span><span class=mf>0.07f</span><span class=p>,</span><span class=w> </span><span class=mf>0.13f</span><span class=p>,</span><span class=w> </span><span class=mf>0.17f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>);</span>
<a href=#__codelineno-11-67 id=__codelineno-11-67 name=__codelineno-11-67></a><span class=w>        </span><span class=n>glClear</span><span class=p>(</span><span class=n>GL_COLOR_BUFFER_BIT</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>GL_DEPTH_BUFFER_BIT</span><span class=p>);</span>
<a href=#__codelineno-11-68 id=__codelineno-11-68 name=__codelineno-11-68></a>
<a href=#__codelineno-11-69 id=__codelineno-11-69 name=__codelineno-11-69></a><span class=w>        </span><span class=c1>// Update the camera manipulator</span>
<a href=#__codelineno-11-70 id=__codelineno-11-70 name=__codelineno-11-70></a>
<a href=#__codelineno-11-71 id=__codelineno-11-71 name=__codelineno-11-71></a><span class=w>        </span><span class=n>m_camManip</span><span class=o>-&gt;</span><span class=n>update</span><span class=p>();</span>
<a href=#__codelineno-11-72 id=__codelineno-11-72 name=__codelineno-11-72></a>
<a href=#__codelineno-11-73 id=__codelineno-11-73 name=__codelineno-11-73></a><span class=w>        </span><span class=c1>// Draw the scene</span>
<a href=#__codelineno-11-74 id=__codelineno-11-74 name=__codelineno-11-74></a>
<a href=#__codelineno-11-75 id=__codelineno-11-75 name=__codelineno-11-75></a><span class=w>        </span><span class=n>m_scene</span><span class=o>-&gt;</span><span class=n>draw</span><span class=p>();</span>
<a href=#__codelineno-11-76 id=__codelineno-11-76 name=__codelineno-11-76></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-11-77 id=__codelineno-11-77 name=__codelineno-11-77></a>
<a href=#__codelineno-11-78 id=__codelineno-11-78 name=__codelineno-11-78></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>onResize</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>)</span>
<a href=#__codelineno-11-79 id=__codelineno-11-79 name=__codelineno-11-79></a><span class=w>    </span><span class=p>{</span>
<a href=#__codelineno-11-80 id=__codelineno-11-80 name=__codelineno-11-80></a><span class=w>        </span><span class=c1>// This method is called when the window is resized</span>
<a href=#__codelineno-11-81 id=__codelineno-11-81 name=__codelineno-11-81></a>
<a href=#__codelineno-11-82 id=__codelineno-11-82 name=__codelineno-11-82></a><span class=w>        </span><span class=n>m_camManip</span><span class=o>-&gt;</span><span class=n>update</span><span class=p>();</span>
<a href=#__codelineno-11-83 id=__codelineno-11-83 name=__codelineno-11-83></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-11-84 id=__codelineno-11-84 name=__codelineno-11-84></a><span class=p>};</span>
<a href=#__codelineno-11-85 id=__codelineno-11-85 name=__codelineno-11-85></a>
<a href=#__codelineno-11-86 id=__codelineno-11-86 name=__codelineno-11-86></a><span class=k>typedef</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>ExampleWindow</span><span class=o>&gt;</span><span class=w> </span><span class=n>ExampleWindowPtr</span><span class=p>;</span>
<a href=#__codelineno-11-87 id=__codelineno-11-87 name=__codelineno-11-87></a>
<a href=#__codelineno-11-88 id=__codelineno-11-88 name=__codelineno-11-88></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
<a href=#__codelineno-11-89 id=__codelineno-11-89 name=__codelineno-11-89></a><span class=p>{</span>
<a href=#__codelineno-11-90 id=__codelineno-11-90 name=__codelineno-11-90></a><span class=w>    </span><span class=c1>// Create application object</span>
<a href=#__codelineno-11-91 id=__codelineno-11-91 name=__codelineno-11-91></a>
<a href=#__codelineno-11-92 id=__codelineno-11-92 name=__codelineno-11-92></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>app</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>GLFWApplication</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<a href=#__codelineno-11-93 id=__codelineno-11-93 name=__codelineno-11-93></a>
<a href=#__codelineno-11-94 id=__codelineno-11-94 name=__codelineno-11-94></a><span class=w>    </span><span class=c1>// Set context hints</span>
<a href=#__codelineno-11-95 id=__codelineno-11-95 name=__codelineno-11-95></a>
<a href=#__codelineno-11-96 id=__codelineno-11-96 name=__codelineno-11-96></a><span class=w>    </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>hint</span><span class=p>(</span><span class=n>GLFW_CONTEXT_VERSION_MAJOR</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span>
<a href=#__codelineno-11-97 id=__codelineno-11-97 name=__codelineno-11-97></a><span class=w>    </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>hint</span><span class=p>(</span><span class=n>GLFW_CONTEXT_VERSION_MINOR</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span>
<a href=#__codelineno-11-98 id=__codelineno-11-98 name=__codelineno-11-98></a><span class=w>    </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>hint</span><span class=p>(</span><span class=n>GLFW_OPENGL_PROFILE</span><span class=p>,</span><span class=w> </span><span class=n>GLFW_OPENGL_CORE_PROFILE</span><span class=p>);</span>
<a href=#__codelineno-11-99 id=__codelineno-11-99 name=__codelineno-11-99></a><span class=w>    </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>hint</span><span class=p>(</span><span class=n>GLFW_SAMPLES</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>);</span>
<a href=#__codelineno-11-100 id=__codelineno-11-100 name=__codelineno-11-100></a>
<a href=#__codelineno-11-101 id=__codelineno-11-101 name=__codelineno-11-101></a><span class=w>    </span><span class=c1>// Create a window</span>
<a href=#__codelineno-11-102 id=__codelineno-11-102 name=__codelineno-11-102></a>
<a href=#__codelineno-11-103 id=__codelineno-11-103 name=__codelineno-11-103></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>window</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ExampleWindow</span><span class=o>::</span><span class=n>create</span><span class=p>(</span><span class=mi>800</span><span class=p>,</span><span class=w> </span><span class=mi>800</span><span class=p>,</span><span class=w> </span><span class=s>"Example 1"</span><span class=p>);</span>
<a href=#__codelineno-11-104 id=__codelineno-11-104 name=__codelineno-11-104></a><span class=w>    </span><span class=n>window</span><span class=o>-&gt;</span><span class=n>maximize</span><span class=p>();</span>
<a href=#__codelineno-11-105 id=__codelineno-11-105 name=__codelineno-11-105></a>
<a href=#__codelineno-11-106 id=__codelineno-11-106 name=__codelineno-11-106></a><span class=w>    </span><span class=c1>// Add the window to the application</span>
<a href=#__codelineno-11-107 id=__codelineno-11-107 name=__codelineno-11-107></a>
<a href=#__codelineno-11-108 id=__codelineno-11-108 name=__codelineno-11-108></a><span class=w>    </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>addWindow</span><span class=p>(</span><span class=n>window</span><span class=p>);</span>
<a href=#__codelineno-11-109 id=__codelineno-11-109 name=__codelineno-11-109></a>
<a href=#__codelineno-11-110 id=__codelineno-11-110 name=__codelineno-11-110></a><span class=w>    </span><span class=c1>// Run the application</span>
<a href=#__codelineno-11-111 id=__codelineno-11-111 name=__codelineno-11-111></a>
<a href=#__codelineno-11-112 id=__codelineno-11-112 name=__codelineno-11-112></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>loop</span><span class=p>();</span>
<a href=#__codelineno-11-113 id=__codelineno-11-113 name=__codelineno-11-113></a><span class=p>}</span>
</code></pre></div> <p>The final rendered window could look something like this:</p> <p><img alt src=../../../../images/ivf2_example1.png></p> <h2 id=how-can-you-try-ivf2>How can you try ivf2?</h2> <p>The library is still in development and not yet ready for release. However, you can try the library by cloning the repository from <a href=https://github.com/jonaslindemann/ivf2>https://github.com/jonaslindemann/ivf2</a>. Build instruction are available in the README.md file in the repository.</p> <h2 id=getting-involved>Getting involved</h2> <p>If you are interested in the project and want to get involved, my contact information is here: <a href=https://www.lu.se/lucat/user/7e4f2075cc49072ab067c1edd5f12fab>Jonas Lindemann</a></p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/jonas_lindemann target=_blank rel="noopener me" title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg> </a> <a href=https://www.linkedin.com/in/jonas-lindemann-8632343/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://github.com/jonaslindemann target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://www.youtube.com/@JonasLindemann target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top", "navigation.tabs.sticky", "header.autohide"], "search": "../../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../../assets/javascripts/bundle.fe8b6f2b.min.js></script> </body> </html>