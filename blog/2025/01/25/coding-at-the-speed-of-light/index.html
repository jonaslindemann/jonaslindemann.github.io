<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../../12/the-fun-of-coding-3d-graphics-in-c-and-opengl/ rel=prev><link href=../../../03/23/experimenting-with-ai-and-mechanics-applications/ rel=next><link rel=icon href=../../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.29"><title>Coding at the speed of light - Coding thoughts</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.76a95c52.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans+Display:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Noto Sans Display";--md-code-font:"Ubuntu Mono"}</style><link rel=stylesheet href=../../../../../stylesheets/extra.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="Coding at the speed of light - Coding thoughts"><meta property=og:description content=None><meta property=og:image content=./assets/images/social/blog/posts/coding_at_lightspeed.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta property=og:url content=None><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Coding at the speed of light - Coding thoughts"><meta name=twitter:description content=None><meta name=twitter:image content=./assets/images/social/blog/posts/coding_at_lightspeed.png></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=yellow data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#coding-at-the-speed-of-light class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="Coding thoughts" class="md-header__button md-logo" aria-label="Coding thoughts" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 488c0 9.5-5.6 18.1-14.2 21.9s-18.8 2.3-25.8-4.1l-80-72c-5.1-4.6-7.9-11-7.9-17.8s2.9-13.3 7.9-17.8l80-72c7-6.3 17.2-7.9 25.8-4.1S320 334.5 320 344v40h16c35.3 0 64-28.7 64-64V153.3c-28.3-12.3-48-40.5-48-73.3 0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V320c0 70.7-57.3 128-128 128h-16v40zM456 80a24 24 0 1 0-48 0 24 24 0 1 0 48 0zM192 24c0-9.5 5.6-18.1 14.2-21.9S225-.2 232 6.2l80 72c5.1 4.6 7.9 11 7.9 17.8s-2.9 13.3-7.9 17.8l-80 72c-7 6.3-17.2 7.9-25.8 4.1S192 177.5 192 168v-40h-16c-35.3 0-64 28.7-64 64v166.7c28.3 12.3 48 40.5 48 73.3 0 44.2-35.8 80-80 80S0 476.2 0 432c0-32.8 19.7-61 48-73.3V192c0-70.7 57.3-128 128-128h16V24zM56 432a24 24 0 1 0 48 0 24 24 0 1 0-48 0z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Coding thoughts </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Coding at the speed of light </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../../../../gen-links/ class=md-tabs__link> Links </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="Coding thoughts" class="md-nav__button md-logo" aria-label="Coding thoughts" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 488c0 9.5-5.6 18.1-14.2 21.9s-18.8 2.3-25.8-4.1l-80-72c-5.1-4.6-7.9-11-7.9-17.8s2.9-13.3 7.9-17.8l80-72c7-6.3 17.2-7.9 25.8-4.1S320 334.5 320 344v40h16c35.3 0 64-28.7 64-64V153.3c-28.3-12.3-48-40.5-48-73.3 0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V320c0 70.7-57.3 128-128 128h-16v40zM456 80a24 24 0 1 0-48 0 24 24 0 1 0 48 0zM192 24c0-9.5 5.6-18.1 14.2-21.9S225-.2 232 6.2l80 72c5.1 4.6 7.9 11 7.9 17.8s-2.9 13.3-7.9 17.8l-80 72c-7 6.3-17.2 7.9-25.8 4.1S192 177.5 192 168v-40h-16c-35.3 0-64 28.7-64 64v166.7c28.3 12.3 48 40.5 48 73.3 0 44.2-35.8 80-80 80S0 476.2 0 432c0-32.8 19.7-61 48-73.3V192c0-70.7 57.3-128 128-128h16V24zM56 432a24 24 0 1 0 48 0 24 24 0 1 0-48 0z"/></svg> </a> Coding thoughts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <a href=../../../../ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Links </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Links </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../gen-links/ class=md-nav__link> <span class=md-ellipsis> General </span> </a> </li> <li class=md-nav__item> <a href=../../../../../yt-links/ class=md-nav__link> <span class=md-ellipsis> Videos </span> </a> </li> <li class=md-nav__item> <a href=../../../../../gh-links/ class=md-nav__link> <span class=md-ellipsis> Projects </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#implementing-selection-rendering class=md-nav__link> <span class=md-ellipsis> Implementing selection rendering </span> </a> </li> <li class=md-nav__item> <a href=#implementing-a-spline-interpolation-class class=md-nav__link> <span class=md-ellipsis> Implementing a Spline interpolation class </span> </a> </li> <li class=md-nav__item> <a href=#implementing-post-processing-effects class=md-nav__link> <span class=md-ellipsis> Implementing post processing effects </span> </a> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../../../../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> Metadata </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <time datetime="2025-01-25 00:00:00" class=md-ellipsis>January 25, 2025</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg> <span class=md-ellipsis> in <a href=../../../../category/opengl/ >OpenGL</a>, <a href=../../../../category/c/ >C++</a>, <a href=../../../../category/ivf/ >Ivf++</a>, <a href=../../../../category/graphics/ >Graphics</a>, <a href=../../../../category/ai/ >AI</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg> <span class=md-ellipsis> 10 min read </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <h1 id=coding-at-the-speed-of-light>Coding at the speed of light</h1> <p><img alt src=../../../../images/coding_at_speed_of_light.png></p> <p>As I have mentioned in my previous post, I have been working on my graphics library Ivf++ 2.0. There are many features I would like to implement, but as this is a hobby project I have limited time to work on it. My common approach has been to select a feature to implement, do research online, and then start coding. You start with great energy and enthusiasm, but you often get stuck on small things as you progress. Why doesn't this approach work? How does this function work? Why is this not rendering correctly? These are some of the questions that come up. You can spend hours figuring out the problem; sometimes, you can't find the solution. This can be very frustrating and demotivating.</p> <p>Some time ago, I started exploring AI tools. In 2022, I started experimenting with ChatGPT, first by letting it suggest improvements to existing codes in Python. I was amazed at the improvements it suggested. I also used it to answer questions on different programming topics. One thing that impressed me was the ability of the language model to translate numerical code written in Python and Numpy to C++ and Eigen. Worked almost perfectly. Later, during 2023, I used it in the refactoring of ObjectiveFrame. It helped me to refactor the codebase and make it more readable.</p> <p>Another AI tool that I started using as an early adopter was Github Copilot from Microsoft. It is a code completion that uses a language model to provide the completions. For me, it has made it fun to code again. It's almost like having a pair of programmers who know everything and help out with the boring parts of coding. By combining classical chat-based AI with Copilot, I have implemented features in Ivf++ 2.0 at a pace that I would not have been able to do otherwise. It feels like coding at the speed of light. In the rest of this post, I will describe some examples of how I have used these tools in the development of Ivf++ 2.0.</p> <!-- more --> <h2 id=implementing-selection-rendering>Implementing selection rendering</h2> <p>One of the features I wanted to implement was selection rendering. This feature allows you to select objects in the scene by clicking on them. I used buffer selection in my previous implementation of Ivf++ in OpenGL 1.1. This is a deprecated feature in OpenGL, and I wanted to implement something that would work in modern OpenGL. I have read earlier that this could be accomplished using shaders. The approach is to render all objects in the scene with a unique color and then read the pixel color under the mouse cursor. This color can then be used to identify the object that was clicked on. When it comes to shaders, I am still a beginner, so I decided to ask Claude for help. </p> <p>First, I asked a high-level question on different approaches to implementing selection rendering in modern OpenGL.</p> <div class="admonition question"> <p class=admonition-title>Question</p> <p>I have implemented a scene graph library i C++/OpenGL supporting hierarchical object structures. I would like to be able to interact with the rendered objects. What is the best approach to implement object selection?</p> </div> <p>The answer I got gave an overview of the different methods of implementing selection rendering in modern OpenGL. The answer I got in short form was:</p> <div class="admonition answer"> <p class=admonition-title>Answer</p> <p>For implementing object selection in a scene graph with OpenGL, there are several common approaches, each with their own trade-offs. Let me explain the main techniques:</p> <p>Ray Casting with Bounding Volumes:</p> <p>[ description of the method and code examples ]</p> <p>Color Picking:</p> <p>[ description of the method and code examples ]</p> <p>GPU picking using Compute shaders</p> <p>[ description of the method and code examples ]</p> </div> <p>Every approach was provided with a code example. I decided to go with the color picking approach. Then I asked the follow up question:</p> <div class="admonition question"> <p class=admonition-title>Question</p> <p>Ok, the buffer selection seems to be the quickest way forward. Please suggest suitable shaders and implementation for buffer selection.</p> </div> <p>It then answered:</p> <div class="admonition answer"> <p class=admonition-title>Answer</p> <p>I'll help you implement color buffer selection, which is indeed a straightforward approach. Here's a complete implementation:</p> <p>[ Implementing a color buffer in C++/OpenGL ] </p> <p>Vertex shader:</p> <p>[ GLSL verted shader ]</p> <p>Fragment shader:</p> <p>[ GLSL fragment shader ]</p> <p>Integration of the shaders in the rendering pipeline:</p> <p>[ C++ code implementing in scene graph ]</p> </div> <p>The suggested shaders were a bit different from the shaders I hade implemented in Ivf++, so I asked Claude to help me modify them to fit my implementation. </p> <div class="admonition question"> <p class=admonition-title>Question</p> <p>I want to use the same structure as my standard shader, would this work as a fragment shader?</p> <div class=highlight><pre><span></span><code>#version 330 core
in vec3 normal;  
in vec3 fragPos;  
in vec4 color;
in vec2 texCoord;
uniform uint objectId;
out vec4 fragColor;
void main()
{
    fragColor = vec4(float(objectId &amp; 0xFF) / 255.0, float((objectId &gt;&gt; 8) &amp; 0xFF) / 255.0, float((objectId &gt;&gt; 16) &amp; 0xFF) / 255.0, 1.0);
}
</code></pre></div> </div> <p>The answer was almost like having a conversation with an OpenGL expert. It also gave me the code for decoding the value when reading back from the selection buffer. I have to buy Claude a beer next time I meet him.</p> <div class="admonition answer"> <p class=admonition-title>Answer</p> <p>Yes, your approach using <code>vec4</code> as output and encoding the objectId into RGB components is a valid alternative to my suggestion! This is actually a more traditional approach and has some advantages:</p> <ol> <li>It's compatible with standard framebuffer formats (no need for R32UI)</li> <li>Works with older OpenGL versions</li> <li>Reuses your existing vertex shader and interpolated attributes</li> </ol> <p>The key differences: - Your shader packs the ID into RGB channels (24-bit ID space = 16,777,216 unique IDs) - My version used R32UI (32-bit ID space = 4,294,967,296 unique IDs)</p> <p>When reading the selection buffer, you'll need to decode the ID:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=kt>uint32_t</span><span class=w> </span><span class=nf>readPixel</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>y</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>pixel</span><span class=p>[</span><span class=mi>3</span><span class=p>];</span>
<a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=w>    </span><span class=n>glReadPixels</span><span class=p>(</span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>GL_RGB</span><span class=p>,</span><span class=w> </span><span class=n>GL_UNSIGNED_BYTE</span><span class=p>,</span><span class=w> </span><span class=n>pixel</span><span class=p>);</span>
<a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>pixel</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=p>(</span><span class=n>pixel</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=p>(</span><span class=n>pixel</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=mi>16</span><span class=p>);</span>
<a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=p>}</span>
</code></pre></div> <p>This approach will work perfectly fine for most scene graphs. The only limitation would be if you need more than 16.7 million unique objects, which is rarely the case.</p> <p>Would you like me to show how to integrate this with the rest of the selection buffer code?</p> </div> <p>Now, I have what I need to start implementing the selection process in Ivf++. However, during this process, I needed a way to debug how the library was rendering the objects with unique identifiers, so I asked Claude for help with this as well.</p> <div class="admonition question"> <p class=admonition-title>Question</p> <p>What would be a good way of debugging this?</p> </div> <p>The answer was to use a debug shader that would render the object with the unique color. It also provided me with the code for the debug shader. Really helpful.</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=cp>#version 330 core</span>
<a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a><span class=n>in</span><span class=w> </span><span class=n>vec3</span><span class=w> </span><span class=n>normal</span><span class=p>;</span><span class=w>  </span>
<a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a><span class=n>in</span><span class=w> </span><span class=n>vec3</span><span class=w> </span><span class=n>fragPos</span><span class=p>;</span><span class=w>  </span>
<a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a><span class=n>in</span><span class=w> </span><span class=n>vec4</span><span class=w> </span><span class=n>color</span><span class=p>;</span>
<a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a><span class=n>in</span><span class=w> </span><span class=n>vec2</span><span class=w> </span><span class=n>texCoord</span><span class=p>;</span>
<a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a><span class=n>uniform</span><span class=w> </span><span class=n>uint</span><span class=w> </span><span class=n>objectId</span><span class=p>;</span>
<a href=#__codelineno-1-7 id=__codelineno-1-7 name=__codelineno-1-7></a><span class=n>uniform</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=n>debugMode</span><span class=p>;</span>
<a href=#__codelineno-1-8 id=__codelineno-1-8 name=__codelineno-1-8></a><span class=n>out</span><span class=w> </span><span class=n>vec4</span><span class=w> </span><span class=n>fragColor</span><span class=p>;</span>
<a href=#__codelineno-1-9 id=__codelineno-1-9 name=__codelineno-1-9></a>
<a href=#__codelineno-1-10 id=__codelineno-1-10 name=__codelineno-1-10></a><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
<a href=#__codelineno-1-11 id=__codelineno-1-11 name=__codelineno-1-11></a><span class=p>{</span>
<a href=#__codelineno-1-12 id=__codelineno-1-12 name=__codelineno-1-12></a><span class=w>    </span><span class=n>vec4</span><span class=w> </span><span class=n>idColor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vec4</span><span class=p>(</span>
<a href=#__codelineno-1-13 id=__codelineno-1-13 name=__codelineno-1-13></a><span class=w>        </span><span class=kt>float</span><span class=p>(</span><span class=n>objectId</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=mh>0xFF</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mf>255.0</span><span class=p>,</span><span class=w> </span>
<a href=#__codelineno-1-14 id=__codelineno-1-14 name=__codelineno-1-14></a><span class=w>        </span><span class=kt>float</span><span class=p>((</span><span class=n>objectId</span><span class=w> </span><span class=o>&gt;&gt;</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=mh>0xFF</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mf>255.0</span><span class=p>,</span><span class=w> </span>
<a href=#__codelineno-1-15 id=__codelineno-1-15 name=__codelineno-1-15></a><span class=w>        </span><span class=kt>float</span><span class=p>((</span><span class=n>objectId</span><span class=w> </span><span class=o>&gt;&gt;</span><span class=w> </span><span class=mi>16</span><span class=p>)</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=mh>0xFF</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mf>255.0</span><span class=p>,</span><span class=w> </span>
<a href=#__codelineno-1-16 id=__codelineno-1-16 name=__codelineno-1-16></a><span class=w>        </span><span class=mf>1.0</span>
<a href=#__codelineno-1-17 id=__codelineno-1-17 name=__codelineno-1-17></a><span class=w>    </span><span class=p>);</span>
<a href=#__codelineno-1-18 id=__codelineno-1-18 name=__codelineno-1-18></a>
<a href=#__codelineno-1-19 id=__codelineno-1-19 name=__codelineno-1-19></a><span class=w>    </span><span class=c1>// In debug mode, make colors more visible</span>
<a href=#__codelineno-1-20 id=__codelineno-1-20 name=__codelineno-1-20></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>debugMode</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-1-21 id=__codelineno-1-21 name=__codelineno-1-21></a><span class=w>        </span><span class=n>fragColor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>idColor</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mf>0.8</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>vec4</span><span class=p>(</span><span class=mf>0.2</span><span class=p>);</span><span class=w>  </span><span class=c1>// Brighten for visibility</span>
<a href=#__codelineno-1-22 id=__codelineno-1-22 name=__codelineno-1-22></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-1-23 id=__codelineno-1-23 name=__codelineno-1-23></a><span class=w>        </span><span class=n>fragColor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>idColor</span><span class=p>;</span>
<a href=#__codelineno-1-24 id=__codelineno-1-24 name=__codelineno-1-24></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-1-25 id=__codelineno-1-25 name=__codelineno-1-25></a><span class=p>}</span>
</code></pre></div> <h2 id=implementing-a-spline-interpolation-class>Implementing a Spline interpolation class</h2> <p>Another feature I wanted to implement was a spline interpolation class. I had implemented this before in Ivf++ 1.0, but I wanted to improve the implementation. After getting some experience in writing prompts, I know now that it is essential to be very specific and provide as many details as possible when asking the AI for help. So, to get the code I want, I give it clear instructions, such as dividing up the class in a header and a source file, what prefix to use for the class attributes, and how I want the methods to work. The final prompt became:</p> <div class="admonition question"> <p class=admonition-title>Question</p> <p>I would like to have a Spline class in C++ where you can add points. All the points should be included in the spline. t = 0.0 -&gt; first point. t = n - 1 is the last point. Positions on the spline should be retrieved by either specifying the t or the actual geometric distance from the first point. Use glm for the points. member attributes should use m_ as prefix. Separate include and source files. Use pragma once for header guard.</p> </div> <p>The anwser was almot perfect. I only had to make some minor adjustments in the final code. </p> <div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=c1>// Spline.h</span>
<a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a><span class=cp>#pragma once</span>
<a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
<a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;glm/glm.hpp&gt;</span>
<a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a>
<a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a><span class=k>class</span><span class=w> </span><span class=nc>Spline</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a><span class=k>public</span><span class=o>:</span>
<a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a><span class=w>    </span><span class=c1>// Add a point to the spline</span>
<a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>addPoint</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&amp;</span><span class=w> </span><span class=n>point</span><span class=p>);</span>
<a href=#__codelineno-2-10 id=__codelineno-2-10 name=__codelineno-2-10></a>
<a href=#__codelineno-2-11 id=__codelineno-2-11 name=__codelineno-2-11></a><span class=w>    </span><span class=c1>// Get position on spline using parameter t</span>
<a href=#__codelineno-2-12 id=__codelineno-2-12 name=__codelineno-2-12></a><span class=w>    </span><span class=c1>// t ranges from 0 to (number of points - 1)</span>
<a href=#__codelineno-2-13 id=__codelineno-2-13 name=__codelineno-2-13></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=nf>getPositionByT</span><span class=p>(</span><span class=kt>float</span><span class=w> </span><span class=n>t</span><span class=p>)</span><span class=w> </span><span class=k>const</span><span class=p>;</span>
<a href=#__codelineno-2-14 id=__codelineno-2-14 name=__codelineno-2-14></a>
<a href=#__codelineno-2-15 id=__codelineno-2-15 name=__codelineno-2-15></a><span class=w>    </span><span class=c1>// Get position on spline using distance from start</span>
<a href=#__codelineno-2-16 id=__codelineno-2-16 name=__codelineno-2-16></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=nf>getPositionByDistance</span><span class=p>(</span><span class=kt>float</span><span class=w> </span><span class=n>distance</span><span class=p>)</span><span class=w> </span><span class=k>const</span><span class=p>;</span>
<a href=#__codelineno-2-17 id=__codelineno-2-17 name=__codelineno-2-17></a>
<a href=#__codelineno-2-18 id=__codelineno-2-18 name=__codelineno-2-18></a><span class=w>    </span><span class=c1>// Get total length of the spline</span>
<a href=#__codelineno-2-19 id=__codelineno-2-19 name=__codelineno-2-19></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=nf>getTotalLength</span><span class=p>()</span><span class=w> </span><span class=k>const</span><span class=p>;</span>
<a href=#__codelineno-2-20 id=__codelineno-2-20 name=__codelineno-2-20></a>
<a href=#__codelineno-2-21 id=__codelineno-2-21 name=__codelineno-2-21></a><span class=w>    </span><span class=c1>// Get number of points in the spline</span>
<a href=#__codelineno-2-22 id=__codelineno-2-22 name=__codelineno-2-22></a><span class=w>    </span><span class=kt>size_t</span><span class=w> </span><span class=nf>getPointCount</span><span class=p>()</span><span class=w> </span><span class=k>const</span><span class=p>;</span>
<a href=#__codelineno-2-23 id=__codelineno-2-23 name=__codelineno-2-23></a>
<a href=#__codelineno-2-24 id=__codelineno-2-24 name=__codelineno-2-24></a><span class=w>    </span><span class=c1>// Clear all points</span>
<a href=#__codelineno-2-25 id=__codelineno-2-25 name=__codelineno-2-25></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>clear</span><span class=p>();</span>
<a href=#__codelineno-2-26 id=__codelineno-2-26 name=__codelineno-2-26></a>
<a href=#__codelineno-2-27 id=__codelineno-2-27 name=__codelineno-2-27></a><span class=k>private</span><span class=o>:</span>
<a href=#__codelineno-2-28 id=__codelineno-2-28 name=__codelineno-2-28></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&gt;</span><span class=w> </span><span class=n>m_points</span><span class=p>;</span>
<a href=#__codelineno-2-29 id=__codelineno-2-29 name=__codelineno-2-29></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>float</span><span class=o>&gt;</span><span class=w> </span><span class=n>m_distances</span><span class=p>;</span><span class=w> </span><span class=c1>// Cumulative distances from start</span>
<a href=#__codelineno-2-30 id=__codelineno-2-30 name=__codelineno-2-30></a>
<a href=#__codelineno-2-31 id=__codelineno-2-31 name=__codelineno-2-31></a><span class=w>    </span><span class=c1>// Recalculate cumulative distances when points change</span>
<a href=#__codelineno-2-32 id=__codelineno-2-32 name=__codelineno-2-32></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>updateDistances</span><span class=p>();</span>
<a href=#__codelineno-2-33 id=__codelineno-2-33 name=__codelineno-2-33></a>
<a href=#__codelineno-2-34 id=__codelineno-2-34 name=__codelineno-2-34></a><span class=w>    </span><span class=c1>// Convert distance to t parameter</span>
<a href=#__codelineno-2-35 id=__codelineno-2-35 name=__codelineno-2-35></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=nf>distanceToT</span><span class=p>(</span><span class=kt>float</span><span class=w> </span><span class=n>distance</span><span class=p>)</span><span class=w> </span><span class=k>const</span><span class=p>;</span>
<a href=#__codelineno-2-36 id=__codelineno-2-36 name=__codelineno-2-36></a>
<a href=#__codelineno-2-37 id=__codelineno-2-37 name=__codelineno-2-37></a><span class=w>    </span><span class=c1>// Cubic interpolation between points</span>
<a href=#__codelineno-2-38 id=__codelineno-2-38 name=__codelineno-2-38></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=nf>interpolate</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&amp;</span><span class=w> </span><span class=n>p0</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&amp;</span><span class=w> </span><span class=n>p1</span><span class=p>,</span><span class=w> </span>
<a href=#__codelineno-2-39 id=__codelineno-2-39 name=__codelineno-2-39></a><span class=w>                         </span><span class=k>const</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&amp;</span><span class=w> </span><span class=n>p2</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&amp;</span><span class=w> </span><span class=n>p3</span><span class=p>,</span><span class=w> </span>
<a href=#__codelineno-2-40 id=__codelineno-2-40 name=__codelineno-2-40></a><span class=w>                         </span><span class=kt>float</span><span class=w> </span><span class=n>t</span><span class=p>)</span><span class=w> </span><span class=k>const</span><span class=p>;</span>
<a href=#__codelineno-2-41 id=__codelineno-2-41 name=__codelineno-2-41></a><span class=p>};</span>
<a href=#__codelineno-2-42 id=__codelineno-2-42 name=__codelineno-2-42></a>
<a href=#__codelineno-2-43 id=__codelineno-2-43 name=__codelineno-2-43></a><span class=c1>// Spline.cpp</span>
<a href=#__codelineno-2-44 id=__codelineno-2-44 name=__codelineno-2-44></a><span class=cp>#include</span><span class=w> </span><span class=cpf>"Spline.h"</span>
<a href=#__codelineno-2-45 id=__codelineno-2-45 name=__codelineno-2-45></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;algorithm&gt;</span>
<a href=#__codelineno-2-46 id=__codelineno-2-46 name=__codelineno-2-46></a>
<a href=#__codelineno-2-47 id=__codelineno-2-47 name=__codelineno-2-47></a><span class=kt>void</span><span class=w> </span><span class=nf>Spline::addPoint</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&amp;</span><span class=w> </span><span class=n>point</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-48 id=__codelineno-2-48 name=__codelineno-2-48></a><span class=w>    </span><span class=n>m_points</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>point</span><span class=p>);</span>
<a href=#__codelineno-2-49 id=__codelineno-2-49 name=__codelineno-2-49></a><span class=w>    </span><span class=n>updateDistances</span><span class=p>();</span>
<a href=#__codelineno-2-50 id=__codelineno-2-50 name=__codelineno-2-50></a><span class=p>}</span>
<a href=#__codelineno-2-51 id=__codelineno-2-51 name=__codelineno-2-51></a>
<a href=#__codelineno-2-52 id=__codelineno-2-52 name=__codelineno-2-52></a><span class=kt>void</span><span class=w> </span><span class=nf>Spline::updateDistances</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-53 id=__codelineno-2-53 name=__codelineno-2-53></a><span class=w>    </span><span class=n>m_distances</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
<a href=#__codelineno-2-54 id=__codelineno-2-54 name=__codelineno-2-54></a><span class=w>    </span><span class=n>m_distances</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>);</span>
<a href=#__codelineno-2-55 id=__codelineno-2-55 name=__codelineno-2-55></a>
<a href=#__codelineno-2-56 id=__codelineno-2-56 name=__codelineno-2-56></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>size_t</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>m_points</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-57 id=__codelineno-2-57 name=__codelineno-2-57></a><span class=w>        </span><span class=kt>float</span><span class=w> </span><span class=n>segmentLength</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>length</span><span class=p>(</span><span class=n>m_points</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>m_points</span><span class=p>[</span><span class=n>i</span><span class=mi>-1</span><span class=p>]);</span>
<a href=#__codelineno-2-58 id=__codelineno-2-58 name=__codelineno-2-58></a><span class=w>        </span><span class=n>m_distances</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>m_distances</span><span class=p>.</span><span class=n>back</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>segmentLength</span><span class=p>);</span>
<a href=#__codelineno-2-59 id=__codelineno-2-59 name=__codelineno-2-59></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-2-60 id=__codelineno-2-60 name=__codelineno-2-60></a><span class=p>}</span>
<a href=#__codelineno-2-61 id=__codelineno-2-61 name=__codelineno-2-61></a>
<a href=#__codelineno-2-62 id=__codelineno-2-62 name=__codelineno-2-62></a><span class=kt>float</span><span class=w> </span><span class=nf>Spline::distanceToT</span><span class=p>(</span><span class=kt>float</span><span class=w> </span><span class=n>distance</span><span class=p>)</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-63 id=__codelineno-2-63 name=__codelineno-2-63></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>m_points</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=mf>0.0f</span><span class=p>;</span>
<a href=#__codelineno-2-64 id=__codelineno-2-64 name=__codelineno-2-64></a>
<a href=#__codelineno-2-65 id=__codelineno-2-65 name=__codelineno-2-65></a><span class=w>    </span><span class=c1>// Find the segment containing this distance</span>
<a href=#__codelineno-2-66 id=__codelineno-2-66 name=__codelineno-2-66></a><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>it</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>lower_bound</span><span class=p>(</span><span class=n>m_distances</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>m_distances</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=n>distance</span><span class=p>);</span>
<a href=#__codelineno-2-67 id=__codelineno-2-67 name=__codelineno-2-67></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>it</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>m_distances</span><span class=p>.</span><span class=n>begin</span><span class=p>())</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=mf>0.0f</span><span class=p>;</span>
<a href=#__codelineno-2-68 id=__codelineno-2-68 name=__codelineno-2-68></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>it</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>m_distances</span><span class=p>.</span><span class=n>end</span><span class=p>())</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>float</span><span class=o>&gt;</span><span class=p>(</span><span class=n>m_points</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>);</span>
<a href=#__codelineno-2-69 id=__codelineno-2-69 name=__codelineno-2-69></a>
<a href=#__codelineno-2-70 id=__codelineno-2-70 name=__codelineno-2-70></a><span class=w>    </span><span class=c1>// Get segment index and interpolation factor</span>
<a href=#__codelineno-2-71 id=__codelineno-2-71 name=__codelineno-2-71></a><span class=w>    </span><span class=kt>size_t</span><span class=w> </span><span class=n>index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>distance</span><span class=p>(</span><span class=n>m_distances</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>it</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<a href=#__codelineno-2-72 id=__codelineno-2-72 name=__codelineno-2-72></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>segmentStart</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m_distances</span><span class=p>[</span><span class=n>index</span><span class=p>];</span>
<a href=#__codelineno-2-73 id=__codelineno-2-73 name=__codelineno-2-73></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>segmentLength</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m_distances</span><span class=p>[</span><span class=n>index</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>segmentStart</span><span class=p>;</span>
<a href=#__codelineno-2-74 id=__codelineno-2-74 name=__codelineno-2-74></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>segmentT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>distance</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>segmentStart</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>segmentLength</span><span class=p>;</span>
<a href=#__codelineno-2-75 id=__codelineno-2-75 name=__codelineno-2-75></a>
<a href=#__codelineno-2-76 id=__codelineno-2-76 name=__codelineno-2-76></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>float</span><span class=o>&gt;</span><span class=p>(</span><span class=n>index</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>segmentT</span><span class=p>;</span>
<a href=#__codelineno-2-77 id=__codelineno-2-77 name=__codelineno-2-77></a><span class=p>}</span>
<a href=#__codelineno-2-78 id=__codelineno-2-78 name=__codelineno-2-78></a>
<a href=#__codelineno-2-79 id=__codelineno-2-79 name=__codelineno-2-79></a><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=nf>Spline::getPositionByDistance</span><span class=p>(</span><span class=kt>float</span><span class=w> </span><span class=n>distance</span><span class=p>)</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-80 id=__codelineno-2-80 name=__codelineno-2-80></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>getPositionByT</span><span class=p>(</span><span class=n>distanceToT</span><span class=p>(</span><span class=n>distance</span><span class=p>));</span>
<a href=#__codelineno-2-81 id=__codelineno-2-81 name=__codelineno-2-81></a><span class=p>}</span>
<a href=#__codelineno-2-82 id=__codelineno-2-82 name=__codelineno-2-82></a>
<a href=#__codelineno-2-83 id=__codelineno-2-83 name=__codelineno-2-83></a><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=nf>Spline::getPositionByT</span><span class=p>(</span><span class=kt>float</span><span class=w> </span><span class=n>t</span><span class=p>)</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-84 id=__codelineno-2-84 name=__codelineno-2-84></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>m_points</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-85 id=__codelineno-2-85 name=__codelineno-2-85></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>m_points</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>m_points</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
<a href=#__codelineno-2-86 id=__codelineno-2-86 name=__codelineno-2-86></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-2-87 id=__codelineno-2-87 name=__codelineno-2-87></a>
<a href=#__codelineno-2-88 id=__codelineno-2-88 name=__codelineno-2-88></a><span class=w>    </span><span class=c1>// Clamp t to valid range</span>
<a href=#__codelineno-2-89 id=__codelineno-2-89 name=__codelineno-2-89></a><span class=w>    </span><span class=n>t</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>max</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>min</span><span class=p>(</span><span class=n>t</span><span class=p>,</span><span class=w> </span><span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>float</span><span class=o>&gt;</span><span class=p>(</span><span class=n>m_points</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>)));</span>
<a href=#__codelineno-2-90 id=__codelineno-2-90 name=__codelineno-2-90></a>
<a href=#__codelineno-2-91 id=__codelineno-2-91 name=__codelineno-2-91></a><span class=w>    </span><span class=c1>// Find the segment containing t</span>
<a href=#__codelineno-2-92 id=__codelineno-2-92 name=__codelineno-2-92></a><span class=w>    </span><span class=kt>size_t</span><span class=w> </span><span class=n>segment</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>size_t</span><span class=o>&gt;</span><span class=p>(</span><span class=n>t</span><span class=p>);</span>
<a href=#__codelineno-2-93 id=__codelineno-2-93 name=__codelineno-2-93></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>segment</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>m_points</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-94 id=__codelineno-2-94 name=__codelineno-2-94></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>m_points</span><span class=p>.</span><span class=n>back</span><span class=p>();</span>
<a href=#__codelineno-2-95 id=__codelineno-2-95 name=__codelineno-2-95></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-2-96 id=__codelineno-2-96 name=__codelineno-2-96></a>
<a href=#__codelineno-2-97 id=__codelineno-2-97 name=__codelineno-2-97></a><span class=w>    </span><span class=c1>// Get surrounding points for interpolation</span>
<a href=#__codelineno-2-98 id=__codelineno-2-98 name=__codelineno-2-98></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=n>p0</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>segment</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>m_points</span><span class=p>[</span><span class=n>segment</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>m_points</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
<a href=#__codelineno-2-99 id=__codelineno-2-99 name=__codelineno-2-99></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=n>p1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m_points</span><span class=p>[</span><span class=n>segment</span><span class=p>];</span>
<a href=#__codelineno-2-100 id=__codelineno-2-100 name=__codelineno-2-100></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=n>p2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m_points</span><span class=p>[</span><span class=n>segment</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>];</span>
<a href=#__codelineno-2-101 id=__codelineno-2-101 name=__codelineno-2-101></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=n>p3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>segment</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>m_points</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>m_points</span><span class=p>[</span><span class=n>segment</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>2</span><span class=p>]</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>p2</span><span class=p>;</span>
<a href=#__codelineno-2-102 id=__codelineno-2-102 name=__codelineno-2-102></a>
<a href=#__codelineno-2-103 id=__codelineno-2-103 name=__codelineno-2-103></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>localT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>float</span><span class=o>&gt;</span><span class=p>(</span><span class=n>segment</span><span class=p>);</span>
<a href=#__codelineno-2-104 id=__codelineno-2-104 name=__codelineno-2-104></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>interpolate</span><span class=p>(</span><span class=n>p0</span><span class=p>,</span><span class=w> </span><span class=n>p1</span><span class=p>,</span><span class=w> </span><span class=n>p2</span><span class=p>,</span><span class=w> </span><span class=n>p3</span><span class=p>,</span><span class=w> </span><span class=n>localT</span><span class=p>);</span>
<a href=#__codelineno-2-105 id=__codelineno-2-105 name=__codelineno-2-105></a><span class=p>}</span>
<a href=#__codelineno-2-106 id=__codelineno-2-106 name=__codelineno-2-106></a>
<a href=#__codelineno-2-107 id=__codelineno-2-107 name=__codelineno-2-107></a><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=nf>Spline::interpolate</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&amp;</span><span class=w> </span><span class=n>p0</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&amp;</span><span class=w> </span><span class=n>p1</span><span class=p>,</span>
<a href=#__codelineno-2-108 id=__codelineno-2-108 name=__codelineno-2-108></a><span class=w>                             </span><span class=k>const</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&amp;</span><span class=w> </span><span class=n>p2</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=o>&amp;</span><span class=w> </span><span class=n>p3</span><span class=p>,</span>
<a href=#__codelineno-2-109 id=__codelineno-2-109 name=__codelineno-2-109></a><span class=w>                             </span><span class=kt>float</span><span class=w> </span><span class=n>t</span><span class=p>)</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-110 id=__codelineno-2-110 name=__codelineno-2-110></a><span class=w>    </span><span class=c1>// Catmull-Rom spline interpolation</span>
<a href=#__codelineno-2-111 id=__codelineno-2-111 name=__codelineno-2-111></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>t2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
<a href=#__codelineno-2-112 id=__codelineno-2-112 name=__codelineno-2-112></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>t3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t2</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
<a href=#__codelineno-2-113 id=__codelineno-2-113 name=__codelineno-2-113></a>
<a href=#__codelineno-2-114 id=__codelineno-2-114 name=__codelineno-2-114></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p1</span><span class=p>;</span>
<a href=#__codelineno-2-115 id=__codelineno-2-115 name=__codelineno-2-115></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.5f</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=p>(</span><span class=n>p2</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>p0</span><span class=p>);</span>
<a href=#__codelineno-2-116 id=__codelineno-2-116 name=__codelineno-2-116></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.5f</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=p>(</span><span class=mf>2.0f</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>p0</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>5.0f</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>p1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>4.0f</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>p2</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>p3</span><span class=p>);</span>
<a href=#__codelineno-2-117 id=__codelineno-2-117 name=__codelineno-2-117></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.5f</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=p>(</span><span class=o>-</span><span class=n>p0</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>3.0f</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>p1</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>3.0f</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>p2</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>p3</span><span class=p>);</span>
<a href=#__codelineno-2-118 id=__codelineno-2-118 name=__codelineno-2-118></a>
<a href=#__codelineno-2-119 id=__codelineno-2-119 name=__codelineno-2-119></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>t2</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>t3</span><span class=p>;</span>
<a href=#__codelineno-2-120 id=__codelineno-2-120 name=__codelineno-2-120></a><span class=p>}</span>
<a href=#__codelineno-2-121 id=__codelineno-2-121 name=__codelineno-2-121></a>
<a href=#__codelineno-2-122 id=__codelineno-2-122 name=__codelineno-2-122></a><span class=kt>float</span><span class=w> </span><span class=nf>Spline::getTotalLength</span><span class=p>()</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-123 id=__codelineno-2-123 name=__codelineno-2-123></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>m_distances</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=mf>0.0f</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>m_distances</span><span class=p>.</span><span class=n>back</span><span class=p>();</span>
<a href=#__codelineno-2-124 id=__codelineno-2-124 name=__codelineno-2-124></a><span class=p>}</span>
<a href=#__codelineno-2-125 id=__codelineno-2-125 name=__codelineno-2-125></a>
<a href=#__codelineno-2-126 id=__codelineno-2-126 name=__codelineno-2-126></a><span class=kt>size_t</span><span class=w> </span><span class=nf>Spline::getPointCount</span><span class=p>()</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-127 id=__codelineno-2-127 name=__codelineno-2-127></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>m_points</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
<a href=#__codelineno-2-128 id=__codelineno-2-128 name=__codelineno-2-128></a><span class=p>}</span>
<a href=#__codelineno-2-129 id=__codelineno-2-129 name=__codelineno-2-129></a>
<a href=#__codelineno-2-130 id=__codelineno-2-130 name=__codelineno-2-130></a><span class=kt>void</span><span class=w> </span><span class=nf>Spline::clear</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-131 id=__codelineno-2-131 name=__codelineno-2-131></a><span class=w>    </span><span class=n>m_points</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
<a href=#__codelineno-2-132 id=__codelineno-2-132 name=__codelineno-2-132></a><span class=w>    </span><span class=n>m_distances</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
<a href=#__codelineno-2-133 id=__codelineno-2-133 name=__codelineno-2-133></a><span class=p>}</span>
</code></pre></div> <h2 id=implementing-post-processing-effects>Implementing post processing effects</h2> <p>As a creative coder, you always want to be able to add cool effects to your rendering. I wanted to add a post-processing pipeline to the rendering. I had some ideas on how to implement this, but I wanted to get some input from Claude on how to best implement this. As input, I also gave Claude the current rendering method in Ivf++ that I wanted to extend with post-processing effects.</p> <div class="admonition question"> <p class=admonition-title>Question</p> <p>I have the following rendering method:</p> <p><div class=highlight><pre><span></span><code><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=kt>void</span><span class=w> </span><span class=nf>GLFWSceneWindow::doDraw</span><span class=p>()</span>
<a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a><span class=p>{</span>
<a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a><span class=w>    </span><span class=n>GLFWWindow</span><span class=o>::</span><span class=n>doDraw</span><span class=p>();</span>
<a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a><span class=w>    </span><span class=n>glClearColor</span><span class=p>(</span><span class=mf>0.07f</span><span class=p>,</span><span class=w> </span><span class=mf>0.13f</span><span class=p>,</span><span class=w> </span><span class=mf>0.17f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>);</span>
<a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a><span class=w>    </span><span class=n>glClear</span><span class=p>(</span><span class=n>GL_COLOR_BUFFER_BIT</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>GL_DEPTH_BUFFER_BIT</span><span class=p>);</span>
<a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a><span class=w>    </span><span class=n>m_scene</span><span class=o>-&gt;</span><span class=n>draw</span><span class=p>();</span>
<a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a><span class=p>}</span>
</code></pre></div> that renders directly to a window. I would like to add post fx shaders after rendering. Suggest how this can be implemented.</p> </div> <p>I got a very detailed answer with the basic approach and code examples. </p> <div class="admonition answer"> <p class=admonition-title>Answer</p> <p>To implement post-processing effects, you'll need to:</p> <ol> <li>Render your scene to a framebuffer object (FBO) instead of directly to the screen</li> <li>Create a full-screen quad to render the final result</li> <li>Apply post-processing shaders using the scene texture as input</li> </ol> <p>[ Example code ]</p> </div> <p>Claude also provided hints and code on implementing a ping-pong buffer for the post-processing effects. This would have been a real pain to implement by reading documentation and tutorials. </p> <p>I also asked it to provide me with implementations for some common post-processing effects, such as blur, bloom, and tone mapping. Below is the code for the blur effect that it provided.</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=cp>#version 330 core</span>
<a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a><span class=k>out</span><span class=w> </span><span class=kt>vec4</span><span class=w> </span><span class=n>FragColor</span><span class=p>;</span>
<a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a><span class=k>in</span><span class=w> </span><span class=kt>vec2</span><span class=w> </span><span class=n>TexCoords</span><span class=p>;</span>
<a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a><span class=k>uniform</span><span class=w> </span><span class=kt>sampler2D</span><span class=w> </span><span class=n>screenTexture</span><span class=p>;</span>
<a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a><span class=k>uniform</span><span class=w> </span><span class=kt>float</span><span class=w> </span><span class=n>blurSize</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.003</span><span class=p>;</span><span class=w> </span><span class=c1>// Adjust for blur strength</span>
<a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a>
<a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a><span class=kt>void</span><span class=w> </span><span class=n>main</span><span class=p>()</span>
<a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a><span class=p>{</span>
<a href=#__codelineno-4-9 id=__codelineno-4-9 name=__codelineno-4-9></a><span class=w>    </span><span class=kt>vec2</span><span class=w> </span><span class=n>texelSize</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>blurSize</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>textureSize</span><span class=p>(</span><span class=n>screenTexture</span><span class=p>,</span><span class=w> </span><span class=mo>0</span><span class=p>);</span>
<a href=#__codelineno-4-10 id=__codelineno-4-10 name=__codelineno-4-10></a><span class=w>    </span><span class=kt>vec3</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kt>vec3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>);</span>
<a href=#__codelineno-4-11 id=__codelineno-4-11 name=__codelineno-4-11></a>
<a href=#__codelineno-4-12 id=__codelineno-4-12 name=__codelineno-4-12></a><span class=w>    </span><span class=c1>// 3x3 kernel</span>
<a href=#__codelineno-4-13 id=__codelineno-4-13 name=__codelineno-4-13></a><span class=w>    </span><span class=k>for</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>x</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-4-14 id=__codelineno-4-14 name=__codelineno-4-14></a><span class=w>        </span><span class=k>for</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>y</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-4-15 id=__codelineno-4-15 name=__codelineno-4-15></a><span class=w>            </span><span class=kt>vec2</span><span class=w> </span><span class=n>offset</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kt>vec2</span><span class=p>(</span><span class=kt>float</span><span class=p>(</span><span class=n>x</span><span class=p>),</span><span class=w> </span><span class=kt>float</span><span class=p>(</span><span class=n>y</span><span class=p>))</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>texelSize</span><span class=p>;</span>
<a href=#__codelineno-4-16 id=__codelineno-4-16 name=__codelineno-4-16></a><span class=w>            </span><span class=n>result</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>texture</span><span class=p>(</span><span class=n>screenTexture</span><span class=p>,</span><span class=w> </span><span class=n>TexCoords</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>offset</span><span class=p>).</span><span class=n>rgb</span><span class=p>;</span>
<a href=#__codelineno-4-17 id=__codelineno-4-17 name=__codelineno-4-17></a><span class=w>        </span><span class=p>}</span>
<a href=#__codelineno-4-18 id=__codelineno-4-18 name=__codelineno-4-18></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-4-19 id=__codelineno-4-19 name=__codelineno-4-19></a>
<a href=#__codelineno-4-20 id=__codelineno-4-20 name=__codelineno-4-20></a><span class=w>    </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mf>9.0</span><span class=p>;</span>
<a href=#__codelineno-4-21 id=__codelineno-4-21 name=__codelineno-4-21></a><span class=w>    </span><span class=n>FragColor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kt>vec4</span><span class=p>(</span><span class=n>result</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>);</span>
<a href=#__codelineno-4-22 id=__codelineno-4-22 name=__codelineno-4-22></a><span class=p>}</span>
</code></pre></div> <p>The following screenshot shows an example application with some post effects applied.</p> <p><img alt src=../../../../images/light_speed.png></p> <h2 id=conclusion>Conclusion</h2> <p>By using AI tools like ChatGPT and Github Copilot, I have been able to implement features in Ivf++ 2.0 at a pace that I would not have been able to otherwise. Instead of getting stuck on implementation details, you can work on the same level as an architect or a designer. Provide a high-level design description and then let the AI assistant implement the finer details. This has given me the ability to focus on the design of the API and the overall architecture.</p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>Coding at the speed of light is not about typing faster. It's about leveraging AI tools to focus on the high-level design and architecture of your software, while the AI takes care of the implementation details. This allows you to work at a pace that would not have been possible otherwise.</p> </div> <p>AI tools will revolutionize software development by enhancing developer creativity and productivity. However, their effective use still requires deep domain knowledge and technical expertise. Rather than replacing fundamental skills, AI serves as a powerful accelerator for experienced developers who understand both the problem space and the capabilities of their tools. The future of software development lies in this synergy between human expertise and AI assistance.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/jonas_lindemann target=_blank rel="noopener me" title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg> </a> <a href=https://www.linkedin.com/in/jonas-lindemann-8632343/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://github.com/jonaslindemann target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://www.youtube.com/@JonasLindemann target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top", "navigation.tabs.sticky", "header.autohide"], "search": "../../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../../assets/javascripts/bundle.fe8b6f2b.min.js></script> </body> </html>